{"version":3,"sources":["utils/_domFunction.js","View/ParentView.js","View/dropListView.js","View/CrudView.js","View/CardView.js","View/OverviewView.js","utils/_helper.js","View/ModalView.js","View/playlistSongs.js","View/ControlView.js","Model/localStorageModel.js","Model/model.js","Model/playlistModel.js","Controller/Components/playlistSongsController.js","Controller/Components/ControlController.js","Controller/script.js","View/SideBarView.js","View/LibraryView.js","View/SettingView.js","View/playListMainView.js","Controller/Components/playListMainController.js","View/popupAdd.js","Controller/Components/PopupPlayListController.js","Controller/Components/crudController.js","Controller/Components/sidebarController.js","Controller/Components/libraryController.js","View/NavParentView.js","Controller/Components/ParentNavController.js","Controller/Components/cardController.js","Controller/Components/dropListController.js","Controller/Components/modalController.js","Controller/Components/SettingsController.js","View/SearchView.js","Controller/Components/SearchController.js","Controller/main.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["contains","target","className","classList","closest","addClass","add","removeClass","remove","replaceClass","class1","class2","replace","removeArrAllElClass","arr","forEach","mov","addClassToArrAllEl","toggleClass","toggle","setActiveElInArr","elementArr","findActiveElInArr","activeClass","find","removeAllActiveElClassInArr","findEl","document","querySelector","ParentView","querySelectorAll","_allSections","_sectionEl","_sectionControl","render","display","clearBeforeRender","_toggleSectionHiddenClass","_parentEl","innerHTML","html","_generateMarkUpList","map","i","_generateItemMarkUp","join","_body","addEventListener","e","changeCount","count","cardElArr","_crudSelectedCount","textContent","DropListView","_showOrHideDropList","_hideDropListWhenLosefocus","_allDropListParent","dropListParent","body","dropParent","CrudView","_cardList","_addPlaylistBtnList","insertAdjacentHTML","_unSelectAllCard","updateSelectedCardsCount","_selectAllBtn","_cardElArr","dataset","select","indexArr","push","index","handle","initalTarget","_updateCardListEl","_selectAllCard","action","_findSelectedCardIndex","_removeSelectedCard","hide","item","value","CardView","music","img","name","author","card","_cardEl","_curCardIndex","_controlContainer","_controlElArr","_isAnyCardSelected","_normalClass","_curControlActive","_activeClass","_cardListArr","_updateCardListArr","_setClickCardComponents","belongTo","_selectCard","_playBtn","_hideSettingControl","_crudContainer","console","log","_searchResultCardListEl","removeEventListener","_handleCard","bind","el","Overview","formatTime","time","Math","floor","minutes","seconds","ModalView","_currentModal","_findCurrentModal","playlistName","playlist","_currentplaylistName","trim","input","newPlaylistName","_getInputName","undefined","_clearInputName","_hideModal","_modals","modal","_handleRenameBtn","_handleDeleteBtn","_handleCancelBtn","Playlist","_playlistItems","_currentPlaylist","_playlistSongList","_renderHeader","songs","_setPlaylistAtrribute","playlistExist","limitSongs","slice","song","_headerEl","renderImgCollage","length","givenIndex","Number","selectionOn","hidePlayIcon","playlistItem","selected","active","_manageCrudContainer","selectedItems","_countSelectedItems","_manageSelectCountEl","_manageSelectBtn","disableBtns","_mainControlBtns","disable","_updateSelectBtn","_disableSelectionOnItems","_unSelectAllItems","_hideCrudContainer","_updateCrudSelectCount","_enabledMainPlalistControlBtns","filter","_updatePlaylistItems","activeItem","_getFirstPlaylistItemIndex","selectBtnClicked","alreadySelectedItem","_unSelectGivenItem","_resetAllSelectionsDone","_selectGivenItem","_enableSelectionOnItems","_showCrudContainer","_disabledMainPlalistControlBtns","playBtn","curPlaylistItem","_setGivenItemAsActiveOnly","_handlePlaylistItemSelectBtn","_handlePlaylistItemPlayBtn","selectBtn","_selectAllItems","selectedItemIndexArr","_getSelectedItemIndexArr","removeBtn","removeItemIndexArr","_removeItemFromHTML","_handleCrudSelectBtn","_handleCrudHideBtn","_handleCrudPlayBtn","_handleCrudRemoveBtn","_playlistItem","getFirstPlaylistSongIndex","showModel","setPlayistNameAttribute","_areHeaderBtnsDisabled","_isPlaylistEmpty","_handleHeaderRenameBtn","_handleHeaderDeleteBtn","_handleHeaderPlayBtn","ControlView","_parent","_setDuration","_updateCurTimeAndProgressBar","_updateProgressBarByClicking","_toggleActiveElWhenFocusChange","_controlSettingHoverEvent","_volumeBtn","_SettingBtn","_controlSettingOptionList","_audio","_duration","duration","_durationEl","_curTimeEl","currentTime","_currentTime","percent","_mainProgressBar","style","width","_progressBarMainContainer","_progressBarVolumeContainer","progressWidth","offsetWidth","clickWidthFromStart","offsetX","round","_volume","toFixed","volume","play","_playBtnIcon","pause","songOptions","_shuffleBtn","setShuffle","src","_imgEl","_titleEl","_artistEl","_controlFullImg","setAudioOptions","currentSection","getCurrentSection","isPlaylistSection","_checkIfSectionIsPlaylistSongs","playlistSongIndex","PlaylistSongView","getActiveItemIndex","playlistIndex","_ifSectionPlaylistExistThenGetCurrentSongIndex","type","_prevBtn","_nextBtn","disabled","tfalseue","btn","_handlePlayNextSong","_handlePlayPreviousSong","_subParent","fullScreen","selectedControlSettingOption","_controlSettingOptionListItemOptions","_speed","playbackRate","speed","_controlSetting","option","localGetState","JSON","parse","localStorage","getItem","localSetState","state","setItem","stringify","localRemoveState","removeItem","localLoadState","stateObj","isPlaying","playMode","playUntilNextPlaylistExhaust","songsToPlayNext","currentMyPlaylistPlaying","myPlaylist","shuffleSongs","theme","deleteSong","sortBy","sort","a","b","toLowerCase","getSongsSortBy","songsCopy","deleteSongs","arrofIndex","includes","toString","createSong","songObj","updateSong","addToplayList","listType","list","played","deleteSongFromPlayList","Array","isArray","findSongsByIndex","findSongByName","findPlaylist","createOnlyPlaylistWithName","timesExist","curSongIndex","createAt","Date","now","createPlayListWithSongs","songsIndexArr","playListExist","playlistObj","modelUpdateState","modelSearchSongs","word","toLocaleLowerCase","getPlaylist","removePlaylist","removePlaylistSongs","getOnePlaylistSongsName","playlistSongs","getPlaylistSong","autoPlayPlaylist","curSong","getPlaylistSongs","addPlayListSongsToNextPlaylist","playlistHasSong","modelRenamePlaylist","oldName","newName","modelGetAllPlaylistName","modelGetCurrentPlaylistSong","controlRenderPlaylistHeader","controlRenderPlaylist","PlaylistView","controlPlaySongFromCurrentPlaylist","songIndex","updateState","loadSong","playSong","controlPlaylistItemBtns","controlPlaylistCrudBtns","songIndexArr","controlHeaderBtns","addHandlerPlaylistItemsBtns","addHandlerCrudOperationBtns","addHandlerHeaderBtns","getSong","controlGetMyPlaylistSong","getNextPlayListSong","options","pauseSong","resetSong","shuffleSong","mode","random","leftSongs","nextSong","prevSong","obj","objKeyValuePair","Object","entries","key","controlPlayer","updateObj","controlDisableSongChangeBtns","disableSongChangeBtns","controlEnableSongChangeBtns","enableSongChangeBtns","addHandlerControl","autoPlayNextSong","SidebarView","_sideNav","_playListEl","_playlistItemEl","sideBarItemOption","section","LibraryView","toUpperCase","sortList","sortOption","_operationValueEl","_controlShuffleBtn","sortByProperty","SettingView","optionEl","optionElValue","settingElTextValue","allOptionsEl","_getAllOptionsEl","_setOptionElAsActiveOnly","_setSettingElTextValue","settingItem","_toggleSettingElActiveState","settingItemOption","_handleChangeTheme","playListMainView","_addPlaylist","_onlyPlaylistMarkUp","_playlistWithSongsMarkUp","_addPlaylistBtn","_addPlaylistPopup","_playlistListsEl","controlRenderPlaylistMainView","PlayListMainView","controlShowPlaylist","_addHandlerShowPlaylistSongs","popupAddPlayList","selectedSongs","_songsArr","playListNameEl","controlCreatePlayList","playListName","controlRenderCrudAddToBtnCreatedPlaylists","controlRenderSidebarPlayList","PopupAddPlayList","addhandlerCreatePlaylist","controlHideCrudContainer","playlistNames","renderAddPlayBtnList","controlCrud","showPopupAndAddSongs","handleCrud","controlHideSidebarPlayiistItems","SideBarView","hideSidebarPlaylistItems","playlistSongsName","renderSidebarItemOptions","controlSectionSelection","addHandleSideNav","controlLibrary","sortSongs","addhandleLibrary","NavView","navListArr","nav","NavParentView","handleNav","controlCard","moreOption","existSongs","controlResetEventHandleOfSearchCardList","_resetAddHandlerControlsToSearchCardList","addhandlerControls","controlRenamePlaylist","controlDeletePlaylist","controlModalBtns","currentPlaylistName","addHandleModalBtns","controlChangeTheme","controlSettings","addHandlerSettings","SearchView","_searchEl","_searchResultContainer","_generateMarkUpSearchSong","_searchInputEl","_clearInput","_showSearches","_hideSearches","controlSearchSongs","controlRenderSearchList","controlRenderSearchSongs","renderSearchResultSection","addHandlerSearchSongs","addHandlerSelectSearchSongs","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","appendChild","getElementById","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.a9f31e48.js","sourceRoot":"..","sourcesContent":["function contains(target, className) {\n  return target.classList.contains(className);\n}\nfunction closest(target, className) {\n  return target.closest(`.${className}`);\n}\n\nfunction addClass(target, className) {\n  target.classList.add(className);\n}\nfunction removeClass(target, className) {\n  target.classList.remove(className);\n}\n\nfunction replaceClass(target, class1, class2) {\n  target.classList.replace(class1, class2);\n}\n\nfunction removeArrAllElClass(arr, className) {\n  arr.forEach((mov) => mov.classList.remove(className));\n}\nfunction addClassToArrAllEl(arr, className) {\n  arr.forEach((mov) => mov.classList.add(className));\n}\n\nfunction toggleClass(target, className) {\n  target.classList.toggle(className);\n}\n\nfunction setActiveElInArr(elementArr, target, className) {\n  elementArr.forEach((mov) => mov.classList.remove(className));\n  target.classList.add(className);\n}\n\nfunction findActiveElInArr(arr, activeClass) {\n  return arr.find((mov) => contains(mov, activeClass));\n}\n\nfunction removeAllActiveElClassInArr(elementArr, activeClass) {\n  elementArr.forEach((mov) => mov.classList.remove(activeClass));\n}\n\nfunction findEl(className) {\n  return document.querySelector(`.${className}`);\n}\n\nexport {\n  contains,\n  closest,\n  setActiveElInArr,\n  findEl,\n  addClass,\n  removeClass,\n  replaceClass,\n  toggleClass,\n  removeArrAllElClass,\n  addClassToArrAllEl,\n  removeAllActiveElClassInArr,\n  findActiveElInArr,\n};\n","import {\n  addClass,\n  addClassToArrAllEl,\n  contains,\n  removeClass,\n} from \"../utils/_domFunction.js\";\n\nclass ParentView {\n  _parentEl;\n  _body = document.querySelector(\"body\");\n  _crudSelectedCount = document.querySelector(\".crud__selected-items\");\n  _allSections = [...document.querySelectorAll(\"section\")];\n  _sectionControl = document.querySelector(\".section-control\");\n  _sectionSetting = document.querySelector(\".section-searchResults\");\n\n  getCurrentSection() {\n    return this._allSections.find(\n      (mov) => !contains(mov, \"hidden\") && !contains(mov, \"section-control\")\n    );\n  }\n\n  _toggleSectionHiddenClass() {\n    addClassToArrAllEl(this._allSections, \"hidden\");\n    removeClass(this._sectionEl, \"hidden\");\n    removeClass(this._sectionControl, \"hidden\");\n    // removeClass(this._sectionSetting, \"hidden\");\n  }\n\n  render(arr, render = true, display = true, clearBeforeRender = false) {\n    if (this._sectionEl && display) this._toggleSectionHiddenClass();\n\n    if (clearBeforeRender) this._parentEl.innerHTML = \"\";\n    const html = this._generateMarkUpList(arr);\n\n    if (!render) return html;\n\n    this._parentEl.innerHTML = html;\n  }\n\n  _generateMarkUpList(arr) {\n    return arr.map((mov, i) => this._generateItemMarkUp(mov, i)).join(\"\");\n  }\n\n  _generateItemMarkUp(mov) {\n    return `something is not good`;\n  }\n\n  _clear() {\n    this._parentEl.innerHTML = \"\";\n  }\n\n  removeActiveElement(className) {\n    this._body.addEventListener(\"click\", (e) => {});\n  }\n\n  updateSelectedCardsCount(changeCount) {\n    let count = 0;\n    const cardElArr = [...document.querySelectorAll(\".card\")];\n\n    cardElArr.forEach((mov) => {\n      if (mov.querySelector('.card__control--active[data-action=\"select\"]'))\n        count++;\n    });\n\n    if (changeCount) count = changeCount;\n    this._crudSelectedCount.textContent = `${count} item Selected`;\n  }\n}\n\nexport default ParentView;\n","import ParentView from \"./ParentView.js\";\n\nclass DropListView extends ParentView {\n  _allDropListParent = [...document.querySelectorAll(\".drop__parent\")];\n  _allDropList = [...document.querySelectorAll(\".drop__list\")];\n\n  constructor() {\n    super();\n    this._showOrHideDropList();\n    this._hideDropListWhenLosefocus();\n  }\n\n  _generateItemMarkUp(mov) {\n\n    if(!mov) return;\n    return `<li class=\"nav__item drop__item\" data-action=\"select\" data-value=${mov}>\n            ${mov}\n            </li>`;\n  }\n\n  _showOrHideDropList() {\n    for (const dropListParent of this._allDropListParent)\n      dropListParent.addEventListener(\"click\", function (e) {\n        this.classList.add(\"drop__parent--active\");\n\n        const target = e.target.closest(\".drop__item\");\n        if (!target) return;\n\n        // if no no more list inside\n        this.classList.remove(\"drop__parent--active\");\n      });\n  }\n\n  _hideDropListWhenLosefocus() {\n    const body = document.querySelector(\"body\");\n    body.addEventListener(\"click\", (e) => {\n      if (!e.target.closest(\".drop__parent\")) {\n        for (const dropParent of this._allDropListParent) {\n          dropParent.classList.remove(\"drop__parent--active\");\n        }\n      }\n    });\n  }\n}\n\nexport default new DropListView();\n","import ParentView from \"./ParentView.js\";\nimport DropListView from \"./dropListView.js\";\nimport {\n  closest,\n  contains,\n  addClass,\n  removeClass,\n  toggleClass,\n} from \"../utils/_domFunction.js\";\n\nclass CrudView extends ParentView {\n  _parentEl = document.querySelector(\".crud\");\n  _cardList = document.querySelector(\".section-overview .card__list\");\n\n  _cardElArr = [...this._cardList.querySelectorAll(\".card\")];\n  _selectAllBtn = document.querySelector(\".card__control--crud\");\n  _addPlaylistBtnList = this._parentEl.querySelector(\".drop__list\");\n  _cardItems = [...document.querySelectorAll(\".section-overview .card\")];\n\n  constructor() {\n    super();\n  }\n\n  renderAddPlayBtnList(arr) {\n    const html = DropListView.render(arr, false);\n    this._addPlaylistBtnList.innerHTML = \"\";\n    this._addPlaylistBtnList.insertAdjacentHTML(\"beforeend\", html);\n    this._addPlaylistBtnList.insertAdjacentHTML(\n      \"afterbegin\",\n      `    <li\n                class=\"nav__item drop__item\"\n                data-action=\"create\"\n                drop-value=\"\"\n              >\n                + New PlayList\n              </li>`\n    );\n  }\n\n  hide() {\n    this._unSelectAllCard();\n    this.updateSelectedCardsCount();\n    removeClass(this._selectAllBtn, \"card__control--active\");\n    addClass(this._parentEl, \"hide\");\n  }\n\n  _updateCardListEl() {\n    this._cardElArr = [...this._cardList.querySelectorAll(\".card\")];\n  }\n\n  _unSelectAllCard() {\n    removeClass(this._cardList, \"card__list--select\");\n    this._cardElArr.forEach((mov) => {\n      // card control select ALL as active\n\n      mov\n        .querySelector('.card__control[data-action=\"select\"]')\n        .classList.remove(\"card__control--active\");\n\n      mov.dataset.select = false;\n    });\n  }\n\n  _selectAllCard() {\n    addClass(this._cardList, \"card__list--select\");\n    this._cardElArr.forEach((mov) => {\n      mov\n        .querySelector('.card__control[data-action=\"select\"]')\n        .classList.add(\"card__control--active\");\n\n      mov.dataset.select = true;\n    });\n  }\n\n  _removeSelectedCard() {\n    [...document.querySelectorAll(\".card\")].forEach((mov) => {\n      if (mov.querySelector('.card__control--active[data-action=\"select\"]'))\n        mov.remove();\n    });\n  }\n\n  _findSelectedCardIndex() {\n    let indexArr = [];\n\n    // to check if card are selected\n    [...document.querySelectorAll(\".card\")].forEach((mov) => {\n      if (mov.dataset.select === \"true\") indexArr.push(mov.dataset.index);\n    });\n\n    return indexArr;\n  }\n\n  handleCrud(handle) {\n    this._parentEl.addEventListener(\"click\", (e) => {\n      const initalTarget = e.target;\n\n      this._updateCardListEl();\n      let target = e.target;\n\n      // select button---------------------------------------\n      if (closest(target, \"card__control\")) {\n        target = closest(target, \"card__control\");\n        toggleClass(target, \"card__control--active\");\n\n        if (contains(target, \"card__control--active\")) this._selectAllCard();\n        else {\n          this._unSelectAllCard();\n          addClass(this._parentEl, \"hide\");\n        }\n\n        this.updateSelectedCardsCount();\n      }\n\n      // to go back to normal home page ------------------------------------------\n      if (closest(target, \"crud-clear\")) {\n        target = closest(target, \"crud-clear\");\n\n        addClass(this._parentEl, \"hide\");\n        removeClass(this._selectAllBtn, \"card__control--active\");\n        // remove select element active class\n\n        this._unSelectAllCard();\n      }\n\n      // music btns----------------------------------\n      if (closest(target, \"crud__btn\")) {\n        toggleClass(this._parentEl, \"hide\");\n\n        target = target.closest(\".crud__btn\");\n        const { action } = target.dataset;\n        const arr = this._findSelectedCardIndex();\n\n        // Selected Card\n\n        // Removing cards dom\n        if (action === \"remove\") {\n          this._removeSelectedCard();\n          this.hide();\n          handle(\"remove\", arr);\n        }\n\n        if (action === \"add-to-playlist\") {\n          removeClass(this._parentEl, \"hide\");\n          const item = initalTarget.closest(\".drop__item\");\n\n          if (!item) return handle(\"add-to-playlist\");\n          const { value, action } = item.dataset;\n          if (action === \"create\") {\n            handle(\"create-playlist\", arr);\n          } else {\n            handle(\"select-playlist\", arr, value);\n          }\n\n          if (action === \"create-playlist\" || action === \"select-playlist\")\n            this.hide();\n        }\n\n        if (action === \"play\") {\n          handle(\"play-next\", arr);\n          this.hide();\n        }\n\n        // play music\n\n        // add to playlist\n      }\n    });\n  }\n}\n\nexport default new CrudView();\n","import {\n  contains,\n  closest,\n  setActiveElInArr,\n  findEl,\n  addClass,\n  findActiveElInArr,\n} from \"../utils/_domFunction.js\";\nimport ParentView from \"./ParentView.js\";\nimport CrudView from \"./CrudView.js\";\n\nclass CardView extends ParentView {\n  _parentEl = document.querySelector(\".card__list\");\n  _cardListArr = [...document.querySelectorAll(\".card__list\")];\n  _playBtn = document.querySelector(\".section-control .music__play-btn\");\n\n  _cardEl;\n  _cardElArr;\n  _controlContainer;\n  _controlElArr;\n\n  _curControlActive;\n  _curCardIndex;\n  _crudContainer = document.querySelector(\".crud\");\n  _body = document.querySelector(\"body\");\n\n  _normalClass = \"card__control\";\n  _activeClass = \"card__control--active\";\n  _sectionArr = [...document.querySelectorAll(\"section\")];\n\n  constructor() {\n    super();\n  }\n\n  _generateItemMarkUp(mov, i) {\n    return `\n            <li class=\"card\" data-index=${i} data-music=${mov.music}>\n              <div class=\"card__controls hidden\">\n                <div class=\"card__control\" data-action=\"setting\" >\n                  <i class=\"card__control-icon fa fa-ellipsis-h\"></i>\n\n                  <ul class=\"nav__list card__settings\">\n                    <li class=\"nav__item\" data-action=\"play\">Play</li>\n                    <li class=\"nav__item\" data-action=\"play-next\">\n                      Play Next\n                    </li>\n                    <li class=\"nav__item\" data-action=\"remove\">Remove</li>\n                  </ul>\n                </div>\n                <div class=\"card__control\" data-action=\"play\">\n                  <i class=\"card__control-icon fa fa-play\"></i>\n                </div>\n                <div class=\"card__control\" data-action=\"select\">\n                  <i class=\"card__control-icon fa-solid fa-check \"></i>\n                </div>\n               </div>\n              <img\n                id=\"currentPhoto\"\n                src=\"/img/${mov.img}\"\n                class=\"card__img card__img--overview\"\n                onerror=\"this.onerror=null; this.src='img/default.jpg'\"\n                alt=\"\"\n              />\n              <p class=\"card__name card__name--overview\">\n                ${mov.name}\n              </p>\n              <p class=\"card__artist card__artist--overview\">\n                ${mov.author}\n              </p>\n            </li>\n        `;\n  }\n\n  ////////////////////////////////////////////////////////////////////////////////////////////////\n\n  _setClickCardComponents(card) {\n    if (!card) return;\n    this._cardEl = card;\n    this._curCardIndex = card.dataset.index;\n    this._controlContainer = card.querySelector(\".card__controls\");\n    this._controlElArr = card.querySelectorAll(\".card__control\");\n    this._cardElArr = document.querySelectorAll(\".card\");\n  }\n\n  _isAnyCardSelected() {\n    let count = 0;\n    this._cardElArr.forEach((mov) => {\n      if (\n        mov\n          .querySelector('.card__control[data-action=\"select\"]')\n          ?.classList.contains(\"card__control--active\")\n      )\n        count++;\n    });\n\n    if (count > 0) return true;\n    return false;\n  }\n\n  _selectCard(card) {\n    // if (!this._isAnyCardSelected()) return CrudView.hide();\n\n    card\n      .querySelector('.card__control[data-action=\"select\"]')\n      .classList.toggle(\"card__control--active\");\n\n    this.updateSelectedCardsCount();\n    if (!this._isAnyCardSelected()) return CrudView.hide();\n  }\n\n  _hideSettingControl() {\n    this._body.addEventListener(\"click\", (e) => {\n      const target = e.target;\n      if (!closest(target, this._normalClass)) {\n        this._cardEl.classList.remove(\"show--control-setting\");\n        this._curControlActive.classList.remove(this._activeClass);\n      }\n    });\n  }\n\n  _updateCardListArr() {\n    this._cardListArr = [...document.querySelectorAll(\".card__list\")];\n  }\n\n  _handleCard(handle, e) {\n    this._updateCardListArr();\n    let target = e.target;\n\n    const card = target.closest(\".card\");\n    if (!card) return;\n    this._setClickCardComponents(card);\n\n    // const cardIndex = +target.closest(\".card\").dataset.index;\n    const { index, name, belongTo } = this._cardEl.dataset;\n\n    // Play song when user simple click on card\n    if (\n      !closest(target, \"card__control\") ||\n      closest(target, 'card__control[data-action=\"play\"]')\n    ) {\n      if (this._isAnyCardSelected()) return this._selectCard(card);\n\n      this._playBtn.dataset.action = \"pause\";\n\n      if (belongTo === \"search\") handle(\"play-next\", index, null, true);\n      else if (belongTo === \"playlist\") handle(\"open-playlist\", null, name);\n      else if (name) handle(\"play\", null, {}, name);\n      else handle(\"play\", index);\n    }\n\n    // handle card setting CONTROL  options\n    if (closest(target, \"nav__item\")) {\n      const { action, belongTo } = target.closest(\".nav__item\").dataset;\n\n      if (action === \"remove\") {\n        // name playlist songs (contain more than 1 songs )\n        if (name && !belongTo) handle(action, null, name);\n        else if (!belongTo) handle(action, index);\n        else if (belongTo) handle(action, null, name, \"refresh-crudPlaylist\");\n        return this._cardEl.remove();\n      } else {\n        if (name) handle(action, null, name);\n        else handle(action, index);\n      }\n    }\n\n    //////////////////////////////////////////////////////////////////////////////\n    //  CSS Stuff ************************************************************\n    target = target.closest(\".card__control\");\n\n    if (!target) return; //playsong;\n\n    const { action } = target.dataset;\n\n    // setting\n    if (action === \"setting\") {\n      target.classList.toggle(this._activeClass);\n\n      if (contains(target, this._activeClass)) {\n        // hide cardSetting if already displaying in other cards\n        this._cardElArr.forEach((mov) => {\n          if (mov === target) return;\n\n          if (contains(mov, \"show--control-setting\")) {\n            mov.classList.remove(\"show--control-setting\");\n\n            mov\n              .querySelector('.card__control[data-action=\"setting\"]')\n              .classList.remove(\"card__control--active\");\n          }\n        });\n\n        this._cardEl.classList.add(\"show--control-setting\");\n\n        this._curControlActive = target;\n        this._hideSettingControl();\n      } else {\n        this._cardEl.classList.remove(\"show--control-setting\");\n      }\n    }\n\n    if (action === \"select\") {\n      target.classList.toggle(this._activeClass);\n\n      // show the number of selected cards in crudContainer\n\n      this.updateSelectedCardsCount();\n      if (contains(target, this._activeClass)) {\n        this._crudContainer.classList.remove(\"hide\");\n        this._parentEl.classList.add(\"card__list--select\");\n        this._cardEl.dataset.select = true;\n        // target.classList.add(this._activeClass);\n      } else {\n        this._cardEl.dataset.select = false;\n        // CrudView.hide()\n      }\n\n      if (!this._isAnyCardSelected()) CrudView.hide();\n    }\n  }\n\n  _resetAddHandlerControlsToSearchCardList(handle) {\n    console.log(\"done\");\n    const _searchResultCardListEl = document.querySelector(\n      \".section-searchResults .card__list\"\n    );\n    _searchResultCardListEl.removeEventListener(\n      \"click\",\n      this._handleCard.bind(this)\n    );\n    _searchResultCardListEl.addEventListener(\n      \"click\",\n      this._handleCard.bind(this, handle)\n    );\n  }\n\n  addhandlerControls(handle) {\n    for (const el of this._cardListArr) {\n      el.addEventListener(\"click\", this._handleCard.bind(this, handle));\n    }\n  }\n}\n\nexport default new CardView();\n","import CardView from \"./CardView.js\";\nimport ParentView from \"./ParentView.js\";\n\nclass Overview extends ParentView {\n  _sectionEl = document.querySelector(\".section-overview\");\n  _parentEl = document.querySelector(\".overview__list\");\n\n  render(arr) {\n    this._parentEl.innerHTML = \"\";\n    const html = CardView.render(arr, false);\n\n    if (this._sectionEl) this._toggleSectionHiddenClass();\n    this._parentEl.insertAdjacentHTML(\"afterbegin\", html);\n  }\n}\n\nexport default new Overview();\n","function formatTime(time) {\n  time = Math.floor(time);\n\n  let minutes, seconds;\n\n  if (time < 60) {\n    if (time < 10) seconds = `0${time}`;\n    else seconds = time;\n\n    minutes = \"00\";\n  }\n\n  if (time > 60) {\n    minutes = Math.floor(time / 60);\n\n    seconds = time % 60;\n\n    if (seconds < 10) seconds = `0${seconds}`;\n  }\n\n  return `${minutes}:${seconds}`;\n}\n\nexport { formatTime };\n","import { addClass, closest, removeClass } from \"../utils/_domFunction.js\";\n\nclass ModalView {\n  _modals = [...document.querySelectorAll(\".modal\")];\n  _currentModal;\n\n  // - PUBLIC *******************************************\n  showModel(action) {\n    this._currentModal = this._findCurrentModal(action);\n    removeClass(this._currentModal, \"hidden\");\n  }\n\n  setPlayistNameAttribute(playlistName) {\n    this._currentModal.dataset.playlist = playlistName;\n    this._currentplaylistName = playlistName;\n  }\n\n  // - PRIVATE ***************************************\n  _findCurrentModal(action) {\n    return document.querySelector(`.modal[data-action=${action}]`);\n  }\n\n  _hideModal() {\n    addClass(this._currentModal, \"hidden\");\n  }\n\n  _getInputName() {\n    return this._currentModal.querySelector(\".modal-input \").value.trim();\n  }\n\n  _clearInputName() {\n    const input = this._currentModal.querySelector(\".modal-input\");\n    if (input) input.value = \"\";\n  }\n\n  // FUNCTION HANDLER *************************************\n  _handleRenameBtn(target, handle) {\n    // check target  is right\n    if (!closest(target, \"modal-btn[data-action='rename']\")) return;\n\n    // handle input\n    const newPlaylistName = this._getInputName();\n    if (\n      !newPlaylistName ||\n      newPlaylistName === \"\" ||\n      newPlaylistName === undefined\n    )\n      return;\n\n    handle(\"rename\", this._currentplaylistName, newPlaylistName);\n    this._clearInputName();\n    this._hideModal();\n  }\n\n  _handleCancelBtn(target) {\n    // check target  is right\n    if (!closest(target, \"modal-btn[data-action='cancel']\")) return;\n\n    this._clearInputName();\n    this._hideModal();\n  }\n\n  _handleDeleteBtn(target, handle) {\n    // check target  is right\n    if (!closest(target, \"modal-btn[data-action='delete']\")) return;\n\n    handle(\"delete\", this._currentplaylistName);\n    this._hideModal();\n  }\n\n  addHandleModalBtns(handle) {\n    for (const modal of this._modals) {\n      modal.addEventListener(\"click\", (e) => {\n        const target = e.target;\n\n        // const modalEl ;\n\n        // handle input && handle rename playlist\n        this._handleRenameBtn(target, handle);\n\n        // handle delete playlist\n        this._handleDeleteBtn(target, handle);\n\n        // handle cancel operation\n        this._handleCancelBtn(target);\n      });\n    }\n  }\n}\n\nexport default new ModalView();\n","import ParentView from \"./ParentView.js\";\nimport {\n  addClass,\n  closest,\n  removeClass,\n  toggleClass,\n  replaceClass,\n  contains,\n} from \"../utils/_domFunction.js\";\nimport ModalView from \"./ModalView.js\";\n\nclass Playlist extends ParentView {\n  _currentPlaylist;\n  _sectionEl = document.querySelector(\".section-playlistSong\");\n\n  // PLAYLIST ITEMS BUTTONS\n  _playlistSongList = document.querySelector(\".playlistSong__list\");\n  _playlistItems = [...document.querySelectorAll(\".playlistSong__item\")];\n\n  // CRUD BUTTONS\n  _manageCrudContainer = document.querySelector(\".manage\");\n  _manageSelectCountEl = document.querySelector(\".manage__select-count\");\n  _manageSelectBtn = document.querySelector(\".manage__select-btn\");\n\n  // HEADER BUTTONS\n  _headerEl = document.querySelector(\".playlistSong__header\");\n  _headerBtnsBox = document.querySelector(\".playlistSong__btn-box\");\n  _mainControlBtns = [\n    ...document.querySelectorAll(\".playlistSong__control-btn\"),\n  ];\n\n  _updatePlaylistItems() {\n    this._playlistItems = [...document.querySelectorAll(\".playlistSong__item\")];\n  }\n\n  _setPlaylistAtrribute(playlist) {\n    this._currentPlaylist = playlist.name;\n    this._sectionEl.dataset.playlist = this._currentPlaylist;\n    // this._currentPlaylist = playlist.name;\n  }\n\n  render(playlist) {\n    this._toggleSectionHiddenClass();\n\n    this._playlistSongList.innerHTML = \"\";\n    console.log(playlist);\n    if (!playlist) return this._renderHeader(playlist, false);\n\n    this._renderHeader(playlist, true);\n\n    const html = this._generateMarkUpList(playlist.songs);\n    this._playlistSongList.innerHTML = html;\n    this._setPlaylistAtrribute(playlist);\n  }\n\n  renderImgCollage(playlist, playlistExist = true) {\n    const limitSongs = playlist.songs.slice(0, 4);\n    return playlistExist\n      ? limitSongs\n          .map(\n            (song) =>\n              `<img src=\"img/${song.img}\" class=\"playlistSong__gallery-img\" alt=\"\" />`\n          )\n          .join(\"\")\n      : \"\";\n  }\n\n  //  update playlist and update header\n  _renderHeader(playlist, playlistExist = true) {\n    this._currentPlaylist = !playlistExist ? undefined : playlist;\n    this._headerEl.innerHTML = \"\";\n    let html;\n\n    html = `<div class=\"card__collage playlistSong__gallery\">\n\n                    ${\n                      playlist\n                        ? this.renderImgCollage(playlist, playlistExist)\n                        : \"\"\n                    }\n                \n                    </div>\n                      <div class=\"playlistSong__header-text\">\n                          <h3 class=\"playlistSong__heading heading-3 mg-lw\">\n                          ${playlist?.name}\n                          </h3>\n                                  <div class=\"playlistSong__totalSongs\">${\n                                    playlistExist ? playlist?.songs.length : 0\n                                  } items</div>\n                              </div>\n                              \n                              <div class=\"playlistSong__btn-box \">\n                                <button\n                                  class=\"playlistSong__control-btn btn btn--primary\"\n                                  data-action=\"play\"\n                                >\n                                  <i class=\"fa fa-play\"></i>\n                                  <span>Play</span>\n                                </button>\n                                <button\n                                  class=\"playlistSong__control-btn btn btn--primary\"\n                                  data-action=\"rename\"\n                                >\n                                  <i class=\"fa fa-play\"></i>\n                                  <span>Rename</span>\n                                </button>\n                                <button\n                                  class=\"playlistSong__control-btn btn btn--primary\"\n                                  data-action=\"delete\"\n                                >\n                                  <i class=\"fa fa-play\"></i>\n                                  <span>Delete</span>\n                                </button>\n                          </div>`;\n\n    this._headerEl.insertAdjacentHTML(\"afterbegin\", html);\n  }\n\n  _generateItemMarkUp(song) {\n    return `   <li\n                  class=\"playlistSong__item\"\n                  data-index=${song.index}\n                  data-active=\"false\"\n                  data-hide-play-icon=\"false\"\n                  data-selected=\"false\"\n                >\n                  <button class=\"playlistSong__select-btn\">\n                    <i\n                      class=\"fas fa-headphones playlistSong__icon playlistSong__icon-headphone hidden\"\n                      aria-hidden=\"true\"\n                    ></i>\n                    <i\n                      class=\"fa-solid fa-check playlistSong__icon playlistSong__icon-select hidden\"\n                    ></i>\n                  </button>\n\n                  <button\n                    class=\"playlistSong__btn playlistSong__btn-play\"\n                    data-action=\"play\"\n                  >\n                    <i\n                      class=\"fa fa-music playlistSong__icon playlistSong__icon-music\"\n                      aria-hidden=\"true\"\n                    ></i>\n                    <i\n                      class=\"fa fa-play playlistSong__icon playlistSong__icon-play hidden\"\n                      aria-hidden=\"true\"\n                    ></i>\n                  </button>\n\n                  <p class=\"playlistSong__name\">${song.name}</p>\n                  <p class=\"playlistSong__artist\">${song.author}</p>\n                  <p class=\"playlistSong__duration\">3:00</p>\n                </li>`;\n  }\n\n  _removeItemFromHTML(indexArr) {\n    for (const givenIndex of indexArr) {\n      this._playlistItems.forEach((el) => {\n        if (Number(givenIndex) === Number(el.dataset.index)) el.remove();\n      });\n    }\n  }\n\n  // ***********************************************************************\n  // Common Function *************************************************\n  _enableSelectionOnItems() {\n    this._playlistSongList.dataset.selectionOn = true;\n    this._playlistSongList.dataset.hidePlayIcon = true;\n  }\n  _disableSelectionOnItems() {\n    this._playlistSongList.dataset.selectionOn = false;\n    this._playlistSongList.dataset.hidePlayIcon = false;\n  }\n\n  _selectAllItems() {\n    for (const playlistItem of this._playlistItems)\n      playlistItem.dataset.selected = true;\n  }\n  _unSelectAllItems() {\n    for (const playlistItem of this._playlistItems)\n      playlistItem.dataset.selected = false;\n  }\n\n  _selectGivenItem(target) {\n    target.dataset.selected = true;\n  }\n  _unSelectGivenItem(target) {\n    target.dataset.selected = false;\n  }\n\n  _countSelectedItems() {\n    let count = 0;\n    for (const item of this._playlistItems) {\n      if (item.dataset.selected === \"true\") count++;\n    }\n\n    return count;\n  }\n\n  _setGivenItemAsActiveOnly(target) {\n    this._playlistItems.forEach((item) => {\n      item.dataset.active = \"false\";\n    });\n    target.dataset.active = \"true\";\n  }\n  _setGivenItemAsUnActive(target) {\n    target.dataset.active = false;\n  }\n\n  _setAllItemsAsActive() {\n    this._playlistItems.forEach((item) => (item.dataset.active = \"true\"));\n  }\n\n  _setAllItemsAsUnactive() {\n    this._playlistItems.forEach((item) => (item.dataset.active = \"false\"));\n  }\n\n  _showCrudContainer() {\n    replaceClass(this._manageCrudContainer, \"hide\", \"show\");\n  }\n\n  _hideCrudContainer() {\n    replaceClass(this._manageCrudContainer, \"show\", \"hide\");\n  }\n\n  _updateCrudSelectCount() {\n    // update the select count items\n    const selectedItems = this._countSelectedItems();\n    this._manageSelectCountEl.textContent = `${selectedItems} items selected`;\n  }\n\n  _updateSelectBtn(selected) {\n    // toggle btn\n    this._manageSelectBtn.dataset.selected =\n      selected === \"true\" ? \"false\" : \"true\";\n  }\n\n  // disabled playlist header buttons\n  _disabledMainPlalistControlBtns() {\n    this._headerEl.dataset.disableBtns = true;\n    this._mainControlBtns.forEach((mov) => (mov.dataset.disable = true));\n  }\n\n  // enabled playlist header buttons\n  _enabledMainPlalistControlBtns() {\n    this._headerEl.dataset.disableBtns = false;\n    this._mainControlBtns.forEach((mov) => (mov.dataset.disable = false));\n  }\n\n  // reset el that are repeating\n  _resetAllSelectionsDone() {\n    this._updateSelectBtn(\"true\");\n    this._disableSelectionOnItems();\n    this._unSelectAllItems();\n    this._hideCrudContainer();\n    this._updateCrudSelectCount();\n    this._enabledMainPlalistControlBtns();\n  }\n\n  _getSelectedItemIndexArr() {\n    return this._playlistItems\n      .filter((mov) => mov.dataset.selected === \"true\")\n      .map((mov) => mov.dataset.index);\n  }\n\n  _getFirstPlaylistItemIndex() {\n    return this._playlistSongList.querySelector(\".playlistSong__item\").dataset\n      .index;\n  }\n\n  getActiveItemIndex() {\n    this._updatePlaylistItems();\n    const activeItem = this._playlistItems.find(\n      (mov) => mov.dataset.active === \"true\"\n    );\n\n    return (\n      (activeItem && activeItem.dataset.index) ||\n      this._getFirstPlaylistItemIndex()\n    );\n  }\n\n  // make code in function  reuse again when you see you are writing another function you now need that functionality again so then put that resuse code into function ok sir\n\n  // ***********************************************************************\n  // FUNCTION  addHandlerManagePlaylist(handle) *****************************\n  _handlePlaylistItemSelectBtn(target) {\n    const selectBtnClicked = closest(target, \"playlistSong__select-btn\");\n    if (!selectBtnClicked) return;\n\n    const playlistItem = closest(target, \"playlistSong__item\");\n\n    const alreadySelectedItem = this._countSelectedItems();\n    const { selected } = playlistItem.dataset;\n\n    // when more than 0 item is selected but we are unselecting them\n    if (selected === \"true\") {\n      this._unSelectGivenItem(playlistItem);\n    }\n\n    // when no item is selected\n    if (alreadySelectedItem === 1 && selected === \"true\") {\n      this._resetAllSelectionsDone();\n    }\n\n    // when we are selecting items\n    if (alreadySelectedItem >= 0 && selected === \"false\") {\n      // dont need to make resuse again as this is not needed anywhere else ok sir\n      this._selectGivenItem(playlistItem);\n      this._enableSelectionOnItems();\n      this._showCrudContainer();\n      this._showCrudContainer();\n      this._disabledMainPlalistControlBtns();\n    }\n\n    this._updateCrudSelectCount();\n  }\n\n  _handlePlaylistItemPlayBtn(target, handle) {\n    const playBtn = closest(target, \"playlistSong__btn-play\");\n    if (!playBtn) return;\n\n    // do not allow song to play when selection is on\n    if (this._countSelectedItems > 0) return;\n\n    const curPlaylistItem = closest(target, \"playlistSong__item\");\n    this._setGivenItemAsActiveOnly(curPlaylistItem);\n    const { index } = curPlaylistItem.dataset;\n\n    handle(\"play\", this._currentPlaylist, index);\n  }\n\n  // +++++++++++\n  addHandlerPlaylistItemsBtns(handle) {\n    this._playlistSongList.addEventListener(\"click\", (e) => {\n      this._updatePlaylistItems();\n      const target = e.target;\n\n      // select by clicking items\n      this._handlePlaylistItemSelectBtn(target);\n\n      // play song by clicking items\n      this._handlePlaylistItemPlayBtn(target, handle);\n    });\n  }\n\n  // ***********************************************************************\n  // FUNCTION addHandleManageCrudOperation*******************************\n  _handleCrudSelectBtn(target) {\n    const selectBtn = closest(target, \"manage__select-btn\");\n    if (!selectBtn) return;\n\n    const { selected } = selectBtn.dataset;\n\n    if (selected === \"false\") {\n      selectBtn.dataset.selected = \"true\";\n      this._selectAllItems();\n      this._updateCrudSelectCount();\n      return;\n    }\n\n    this._resetAllSelectionsDone();\n  }\n  _handleCrudHideBtn(target) {\n    const selectBtn = closest(target, \"manage__clear-btn\");\n    if (!selectBtn) return;\n\n    // set all selected options\n    this._resetAllSelectionsDone();\n  }\n\n  _handleCrudPlayBtn(target, handle) {\n    const playBtn = closest(target, \"manage__play-btn\");\n    if (!playBtn) return;\n\n    // get all seleced items index\n    const selectedItemIndexArr = this._getSelectedItemIndexArr();\n    this._resetAllSelectionsDone();\n    handle(\"play\", this._currentPlaylist, selectedItemIndexArr);\n  }\n\n  _handleCrudRemoveBtn(target, handle) {\n    const removeBtn = closest(target, \"manage__remove-btn\");\n    if (!removeBtn) return;\n    const removeItemIndexArr = this._getSelectedItemIndexArr();\n\n    this._removeItemFromHTML(removeItemIndexArr);\n    this._resetAllSelectionsDone();\n    handle(\"remove\", this._currentPlaylist, removeItemIndexArr);\n  }\n\n  // +++++++++++\n  addHandlerCrudOperationBtns(handle) {\n    this._manageCrudContainer.addEventListener(\"click\", (e) => {\n      this._updatePlaylistItems();\n      const target = e.target;\n\n      // to select or unselect all songs\n      this._handleCrudSelectBtn(target);\n\n      // to reset all the changed made\n      this._handleCrudHideBtn(target);\n\n      // // to play song\n      this._handleCrudPlayBtn(target, handle);\n\n      // // to remove songs\n      this._handleCrudRemoveBtn(target, handle);\n    });\n  }\n\n  // FUNCTION  addHandlePHeaderBtns*******************************\n\n  _areHeaderBtnsDisabled() {\n    if (this._headerEl.dataset.disableBtns === \"true\") return true;\n    return false;\n  }\n\n  _isPlaylistEmpty() {\n    if (this._playlistItem && this._playlistItems?.length === 0) return true;\n    return false;\n  }\n\n  _handleHeaderPlayBtn(target, handle) {\n    if (!closest(target, 'playlistSong__control-btn[data-action=\"play\"]'))\n      return;\n    const getFirstPlaylistSongIndex = this._getFirstPlaylistItemIndex();\n    if (!getFirstPlaylistSongIndex) return;\n    handle(\"play\", this._currentPlaylist, getFirstPlaylistSongIndex);\n  }\n\n  _handleHeaderRenameBtn(target) {\n    if (!closest(target, 'playlistSong__control-btn[data-action=\"rename\"]'))\n      return;\n\n    ModalView.showModel(\"rename\");\n    ModalView.setPlayistNameAttribute(this._currentPlaylist);\n  }\n\n  _handleHeaderDeleteBtn(target) {\n    if (!closest(target, 'playlistSong__control-btn[data-action=\"delete\"]'))\n      return;\n\n    ModalView.showModel(\"delete\");\n    ModalView.setPlayistNameAttribute(this._currentPlaylist);\n  }\n\n  // +++++++++++\n  addHandlerHeaderBtns(handle) {\n    this._headerEl.addEventListener(\"click\", (e) => {\n      this._updatePlaylistItems();\n      const target = e.target;\n\n      if (this._areHeaderBtnsDisabled()) return;\n\n      console.log(this._isPlaylistEmpty());\n\n      // rename  playlist\n      this._handleHeaderRenameBtn(target);\n\n      this._handleHeaderDeleteBtn(target);\n\n      // play playlist\n      if (this._isPlaylistEmpty()) return;\n      this._handleHeaderPlayBtn(target, handle);\n\n      // delete playlist\n    });\n  }\n}\n\nexport default new Playlist();\n","\"use strict\";\n\nimport {\n  findEl,\n  closest,\n  removeClass,\n  addClass,\n  contains,\n  toggleClass,\n  removeAllActiveElClassInArr,\n  setActiveElInArr,\n} from \"../utils/_domFunction.js\";\nimport { formatTime } from \"../utils/_helper.js\";\nimport ParentView from \"./ParentView.js\";\nimport PlaylistSongView from \"./playlistSongs.js\";\n\nclass ControlView extends ParentView {\n  _sectionOverview = findEl(\"section-overview\");\n  _currentSectionEl;\n  _body = document.querySelector(\"body\");\n  _parent = findEl(\"section-control\");\n  _subParent = findEl(\"control\");\n\n  _audio = findEl(\"audio\");\n  _imgEl = findEl(\"curMusic__img\");\n  _titleEl = findEl(\"curMusic__heading\");\n  _artistEl = findEl(\"curMusic__artist\");\n  _curTimeEl = findEl(\"progressBar__time--curTime\");\n  _durationEl = findEl(\"progressBar__time--duration\");\n  _progressBarMainContainer = findEl(\"progressBar--main\");\n  _progressBarVolumeContainer = findEl(\"progressBar--volume\");\n  _mainProgressBar = findEl(\"progressBar__line--main\");\n\n  _controlFullImg = findEl(\"control--fullView-img\");\n\n  // settings appear when clicking setting btn\n  _controlSetting = findEl(\"control__settings\");\n  _controlSettingOptionList = [\n    ...document.querySelectorAll(\".control__setting\"),\n  ];\n  _controlSettingOptionListItemOptions = [\n    ...document.querySelectorAll(\".control__setting-option\"),\n  ];\n\n  _playBtn = this._parent.querySelector(\".music__play-btn\");\n  _volumeBtn = findEl('control__btn[data-action=\"volume\"]');\n  _SettingBtn = findEl('control__btn[data-action=\"setting\"]');\n  _shuffleBtn = findEl('control__btn[data-action=\"shuffle\"]');\n  _nextBtn = this._parent.querySelector('.control__btn[data-action=\"next\"]');\n  _prevBtn = this._parent.querySelector('.control__btn[data-action=\"prev\"]');\n\n  _playBtnIcon = this._playBtn.querySelector(\"i\");\n\n  // to set duration only when meta data is ready and then play song\n\n  // not important did to show these will be install inside the state obj\n  _currentTime;\n  _duration;\n  _volume;\n  _speed;\n\n  constructor() {\n    super();\n    this._setDuration();\n    this._updateCurTimeAndProgressBar();\n    this._updateProgressBarByClicking();\n    this._toggleActiveElWhenFocusChange();\n    this._controlSettingHoverEvent();\n  }\n\n  _toggleActiveElWhenFocusChange() {\n    this._body.addEventListener(\"click\", (e) => {\n      const target = e.target;\n      if (!closest(target, \"control__btn--active[data-action='volume']\")) {\n        this._volumeBtn.classList.remove(\"control__btn--active\");\n      }\n      if (closest(target, \"progressBar__container--volume\")) {\n        this._volumeBtn.classList.add(\"control__btn--active\");\n      }\n\n      if (closest(target, \"control__setting[data-action='speed'] \")) {\n        this._SettingBtn.classList.add(\"control__btn--active\");\n      }\n\n      if (\n        !closest(target, \"control__settings\") &&\n        !closest(target, 'control__btn[data-action=\"setting\"]')\n      ) {\n        removeClass(this._SettingBtn, \"control__btn--active\");\n        removeAllActiveElClassInArr(this._controlSettingOptionList);\n      }\n    });\n  }\n\n  // controller just get the data here\n\n  // we get the duration after audio metadata is laode\n  _setDuration() {\n    this._audio.addEventListener(\"loadedmetadata\", () => {\n      /////////////////////////////////////////////\n      this._duration = Number(this._audio.duration);\n      this._durationEl.textContent = formatTime(this._audio.duration);\n    });\n  }\n\n  // Update time and progressbar movement\n  _updateCurTimeAndProgressBar() {\n    this._audio.addEventListener(\"timeupdate\", (e) => {\n      this._curTimeEl.textContent = formatTime(this._audio.currentTime);\n\n      this._currentTime = +this._audio.currentTime;\n\n      const percent = Math.floor(\n        (Number(this._audio.currentTime) / Number(this._audio.duration)) * 100\n      );\n\n      this._mainProgressBar.style.width = `${percent}%`;\n    });\n  }\n\n  _updateProgressBarByClicking() {\n    [this._progressBarMainContainer, this._progressBarVolumeContainer].forEach(\n      (mov) =>\n        mov.addEventListener(\"click\", (e) => {\n          const target = e.target;\n          const { belongTo } = mov.dataset;\n          const progressWidth = +mov.offsetWidth;\n\n          // respect to target\n          const clickWidthFromStart = Number(e.offsetX);\n          const percent = Math.round(\n            (clickWidthFromStart / progressWidth) * 100\n          );\n\n          mov.querySelector(\".progressBar__line\").style.width = `${percent}%`;\n\n          // update music settings\n          if (belongTo === \"main\") {\n            this._currentTime = Math.floor((percent / 100) * this._duration);\n            this._audio.currentTime = this._currentTime;\n          }\n\n          if (belongTo === \"volume\") {\n            this._volume = (percent / 100) * 1;\n            this._volume = this._volume.toFixed(2);\n\n            this._audio.volume = this._volume;\n          }\n        })\n    );\n  }\n\n  autoPlayNextSong(handle) {\n    this._audio.addEventListener(\"ended\", function () {\n      handle(\"ended\");\n    });\n  }\n\n  // functionality\n  playSong() {\n    this._audio.play();\n    this._playBtn.dataset.action === \"pause\";\n    this._playBtnIcon.classList.replace(\"fa-play\", \"fa-pause\");\n  }\n\n  pauseSong() {\n    this._audio.pause();\n    // this._currentTime = this._audio.currentTime;\n  }\n\n  // next song -> loadsong\n\n  // To set song El from arr\n\n  // load song (play song)\n\n  setAudioOptions(songOptions) {\n    if (!songOptions) return;\n\n    if (songOptions.currentTime) this._audio.currentTime = 0;\n    if (songOptions.playBtn) {\n      this._playBtn.dataset.action === \"pause\";\n      this._playBtnIcon.classList.replace(\"fa-play\", \"fa-pause\");\n    }\n\n    if (songOptions.toggle === \"shuffle\")\n      removeClass(this._shuffleBtn, \"control__btn--active\");\n    if (songOptions.setShuffle === \"on\")\n      addClass(this._shuffleBtn, \"control__btn--active\");\n  }\n\n  loadSong(song, songOptions) {\n    // set basic el\n\n    this._audio.src = `./music/${song.music}`;\n    this._imgEl.src = `./img/${song.img}`;\n    this._titleEl.textContent = song.name;\n    this._artistEl.textContent = song.author;\n    this._controlFullImg.src = `./img/${song.img}`;\n\n    this.setAudioOptions(songOptions);\n  }\n\n  // addHandlerControl(handle) ************************************\n\n  _checkIfSectionIsPlaylistSongs() {\n    const currentSection = this.getCurrentSection();\n    if (contains(currentSection, \"section-playlistSong\")) return true;\n    return false;\n  }\n\n  // check if current Section is playlist then get Current Song Index\n  _ifSectionPlaylistExistThenGetCurrentSongIndex() {\n    const isPlaylistSection = this._checkIfSectionIsPlaylistSongs();\n    let playlistSongIndex;\n    if (!isPlaylistSection) return false;\n\n    playlistSongIndex = PlaylistSongView.getActiveItemIndex();\n    playlistSongIndex = Number(playlistSongIndex);\n    return playlistSongIndex;\n  }\n\n  _handlePlayNextSong(handle) {\n    const playlistIndex = this._ifSectionPlaylistExistThenGetCurrentSongIndex();\n\n    if (!playlistIndex) return handle(\"next\");\n\n    return handle(\"next\", null, {}, playlistIndex);\n  }\n\n  _handlePlayPreviousSong(handle) {\n    const playlistIndex = this._ifSectionPlaylistExistThenGetCurrentSongIndex();\n\n    if (!playlistIndex) return handle(\"prev\");\n\n    return handle(\"prev\", null, {}, playlistIndex);\n  }\n\n  disableSongChangeBtns(type) {\n    console.log(type)\n    console.log(this._prevBtn,this._nextBtn)\n    if (type === \"both\") {\n      this._prevBtn.disabled = true;\n      return (this._nextBtn.disabled = true);\n    }\n    if (type === \"prev\") return (this._prevBtn.disabled = true);\n    if (type === \"next\") return (this._nextBtn.disabled = true);\n  }\n\n  enableSongChangeBtns(type) {\n    if (type === \"both\") {\n      this._prevBtn.disabled = false;\n      return (this._nextBtn.disabled = false);\n    }\n    if (type === \"prev\") return (this._prevBtn.disabled = tfalseue);\n    if (type === \"next\") return (this._nextBtn.disabled = false);\n  }\n\n  addHandlerControl(handle) {\n    this._parent.addEventListener(\"click\", (e) => {\n      let target = e.target;\n\n      const btn = target.closest(\".control__btn\");\n      let action;\n      if (btn) action = btn.dataset.action;\n\n      // BUTTONS *******************************************\n      if (action === \"next\") this._handlePlayNextSong(handle);\n      if (action === \"prev\") this._handlePlayPreviousSong(handle);\n\n      if (action === \"pause\") {\n        this._playBtnIcon.classList.replace(\"fa-pause\", \"fa-play\");\n        btn.dataset.action = \"play\";\n\n        return handle(\"pause\", {\n          currentTime: this._audio.currentTime,\n        });\n      }\n      if (action === \"play\") {\n        btn.dataset.action = \"pause\";\n        this._playBtnIcon.classList.replace(\"fa-play\", \"fa-pause\");\n        return handle(\"play\");\n      }\n\n      if (action === \"volume\") {\n        btn.classList.toggle(\"control__btn--active\");\n\n        return handle(\"volume\", { volume: this._audio.volume });\n      }\n\n      if (action === \"expand\") {\n        this._parent\n          .querySelector(\".control--fullView-img \")\n          .classList.toggle(\"hidden\");\n        this._subParent.classList.toggle(\"control--fullView\");\n        return handle(\"fullScreen\", { fullScreen: true });\n      }\n\n      if (action === \"reset\") handle(\"reset\");\n\n      if (action === \"shuffle\") {\n        toggleClass(btn, \"control__btn--active\");\n\n        if (contains(btn, \"control__btn--active\"))\n          handle(\"shuffle\", null, true);\n        else handle(\"shuffle\", null, false);\n      }\n\n      if (action === \"setting\") {\n        toggleClass(btn, \"control__btn--active\");\n      }\n\n      // ****************************************************************\n\n      // Other than btn\n      if (closest(target, \"control__left\")) {\n        this._parent\n          .querySelector(\".control--fullView-img \")\n          .classList.toggle(\"hidden\");\n\n        this._subParent.classList.toggle(\"control--fullView\");\n      }\n\n      //  To increase speed and fast forward or backward\n      if (closest(target, \"control__setting\")) {\n        const { action } = closest(target, \"control__setting\").dataset;\n\n        if (!action) return;\n\n        if (action === \"speed\") {\n          const selectedControlSettingOption = closest(\n            target,\n            \"control__setting-option\"\n          );\n\n          if (!selectedControlSettingOption) return;\n          // getting value from selected option in options\n          const { value } = selectedControlSettingOption.dataset;\n\n          // Set it active the current option\n          setActiveElInArr(\n            this._controlSettingOptionListItemOptions,\n            selectedControlSettingOption,\n            \"nav__item--active\"\n          );\n\n          this._speed = +value;\n          this._audio.playbackRate = this._speed;\n\n          return handle(action, { speed: this._audio.playbackRate });\n        }\n\n        if (action === \"skip-forward\") {\n          this._audio.currentTime += 10;\n          this._currentTime = this._audio.currentTime;\n        }\n        if (action === \"skip-backward\") {\n          this._audio.currentTime -= 10;\n          this._currentTime = this._audio.currentTime;\n        }\n      }\n\n      // Pass to controller\n    });\n  }\n\n  _controlSettingHoverEvent() {\n    // handle is defined in this scope\n\n    this._controlSetting.addEventListener(\"mouseover\", (e) => {\n      let target = e.target;\n\n      const option = closest(target, \"control__setting\");\n\n      if (option) {\n        // Toggle speed options\n        const { action } = option.dataset;\n\n        if (action === \"speed\") {\n          return addClass(option, \"control__setting--active\");\n        }\n\n        if (action !== \"speed\") {\n          removeAllActiveElClassInArr(\n            this._controlSettingOptionList,\n            \"control__setting--active\"\n          );\n        }\n      }\n    });\n  }\n}\n\nexport default new ControlView();\n","import { state as stateObj } from \"./model.js\";\n\nexport const localGetState = () => JSON.parse(localStorage.getItem(\"state\"));\n\nexport const localSetState = (state) =>\n  localStorage.setItem(\"state\", JSON.stringify(state));\n\nconst localRemoveState = () => localStorage.removeItem(\"state\");\n\nconst localLoadState = () => {\n  let state = localGetState();\n  if (state) state = stateObj;\n\n  localGetState(state);\n};\n","import { localGetState } from \"./localStorageModel.js\";\n\nlet state = {\n  index: 0,\n  isPlaying: false,\n  currentTime: 0,\n  duration: 0,\n\n  // four mode available => main,next,my-song,shuffle\n  playMode: \"main\",\n  playUntilNextPlaylistExhaust: false,\n\n  songs: [\n    {\n      name: \"the cooler guard\",\n      author: \"Mine the way\",\n      img: \"1.jpg\",\n      music: \"1.mp3\",\n      index: 1,\n    },\n    {\n      name: \"the wonder galaxy\",\n      author: \"Zero to Zero->Infinity\",\n      img: \"2.jpg\",\n      music: \"2.mp3\",\n      index: 2,\n    },\n    {\n      name: \"Way of my life\",\n      author: \"The serial me\",\n      img: \"3.jpg\",\n      music: \"3.mp3\",\n      index: 3,\n    },\n    {\n      name: \"we are puching back\",\n      author: \"loki\",\n      img: \"4.jpg\",\n      music: \"4.mp3\",\n      index: 4,\n    },\n    {\n      name: \"Under the house\",\n      author: \"Rohit me\",\n      img: \"5.jpg\",\n      music: \"5.mp3\",\n      index: 5,\n    },\n    {\n      name: \"Consistency is the key\",\n      author: \"Ithink so\",\n      img: \"6.jpg\",\n      music: \"6.mp3\",\n      index: 6,\n    },\n    {\n      name: \"Soniis puppy\",\n      author: \"creator\",\n      img: \"7.jpg\",\n      music: \"7.mp3\",\n      index: 7,\n    },\n    {\n      name: \" puppy\",\n      author: \"tyler\",\n      img: \"8.jpg\",\n      music: \"8.mp3\",\n      index: 8,\n    },\n    {\n      name: \"do everydat\",\n      author: \"me the great\",\n      img: \"9.jpg\",\n      music: \"9.mp3\",\n      index: 9,\n    },\n    {\n      name: \"this is what we are \",\n      author: \"waiting\",\n      img: \"10.jpg\",\n      music: \"10.mp3\",\n      index: 10,\n    },\n    {\n      name: \"monet\",\n      author: \"isGreat\",\n      img: \"11.jpg\",\n      music: \"11.mp3\",\n      index: 11,\n    },\n    {\n      name: \"hand recovery\",\n      author: \"must happen\",\n      img: \"12.jpg\",\n      music: \"12.mp3\",\n      index: 12,\n    },\n    {\n      name: \"yes i am\",\n      author: \"the beast\",\n      img: \"13.jpg\",\n      music: \"13.mp3\",\n      index: 13,\n    },\n    {\n      name: \"who i am\",\n      author: \"the one\",\n      img: \"14.jpg\",\n      music: \"14.mp3\",\n      index: 14,\n    },\n    {\n      name: \"anime\",\n      author: \"is great yep\",\n      img: \"15.jpg\",\n      music: \"15.mp3\",\n      index: 15,\n    },\n  ],\n  songsToPlayNext: [],\n\n  currentMyPlaylistPlaying: {},\n  myPlaylist: [],\n\n  shuffleSongs: [],\n  volume: 1,\n  speed: 1,\n  theme: \"dark\",\n  fullScreen: false,\n};\n\n// main db\nfunction deleteSong(index) {\n  state.songs = state.songs.filter(\n    (mov) => Number(mov.index) !== Number(index)\n  );\n}\n\nfunction sortBy(arr, type) {\n  return arr.sort((a, b) => {\n    if (a[type].slice(0, 1).toLowerCase() > b[type].slice(0, 1).toLowerCase())\n      return 1;\n    if (b[type].slice(0, 1).toLowerCase() < a[type].slice(0, 1).toLowerCase())\n      return -1;\n    else return 0;\n  });\n}\n\nfunction getSongsSortBy(type) {\n  const songsCopy = state.songs.slice();\n  return sortBy(songsCopy, type);\n}\n\nfunction deleteSongs(arrofIndex) {\n  state.songs = state.songs.filter((mov) => {\n    if (!arrofIndex.includes(mov.index.toString())) return mov;\n  });\n}\n\nfunction createSong(songObj) {\n  state.push(songObj);\n}\n\nfunction updateSong(song) {\n  state.songs = state.songs.map((mov) => {\n    if (Number(mov.index) === song.index) return song;\n    return mov;\n  });\n}\n\n// addSongToPlaylist\n// addSongsToPlaylist\n// playList db\nfunction addToplayList(listType, index, indexArr) {\n  let list;\n  if (listType === \"my-list\") list = \"myPlaylist\";\n  else list = \"songsToPlayNext\";\n\n  if (index) {\n    const song = state.songs.find((mov) => Number(mov.index) === Number(index));\n    song.played = false;\n    state[list].push(song);\n  }\n\n  if (indexArr) {\n    const songs = state.songs.filter((mov) => {\n      if (indexArr.includes(mov.index.toString())) {\n        mov.played = false;\n        return mov;\n      }\n    });\n\n    state[list].push(...songs);\n  }\n}\n\nfunction deleteSongFromPlayList(listType, index) {\n  let list;\n  if (listType === \"my-list\") list = \"myPlayList\";\n  else list = \"songsToPlayNextList\";\n\n  if (!list || !Array.isArray(list)) return;\n  list = state[list];\n\n  list = list.filter(\n    (mov) =>\n      state.songs.find((mov) => Number(mov.index) === Number(index)) ===\n      mov.name\n  );\n}\n\nfunction findSongsByIndex(arr) {\n  let songs = [];\n  arr.forEach((index) => {\n    for (const song of state.songs) {\n      if (Number(song.index) === Number(index) + 1) songs.push(song);\n    }\n  });\n\n  return songs;\n}\n\nfunction findSongByName(name) {\n  return state.songs.find((mov) => mov.name === name);\n}\n\nfunction findPlaylist(name) {\n  return state.myPlaylist.filter((mov) => mov.name === name);\n}\n\nfunction createOnlyPlaylistWithName(name) {\n  const timesExist = findPlaylist(name);\n\n  if (timesExist.length > 0) name = `${name} Copy ${timesExist.length + 1}`;\n\n  state.myPlaylist.push({\n    curSongIndex: 0,\n    name,\n    songs: [],\n    createAt: Date.now(),\n  });\n}\n\nfunction createPlayListWithSongs(playlistName, songsIndexArr) {\n  if (!songsIndexArr) return;\n\n  let playListExist = state.myPlaylist.find((mov) => mov.name === playlistName);\n\n  // if playlist with this name already exists then replace it\n  const songs = findSongsByIndex(songsIndexArr);\n\n  if (playListExist) return playListExist.songs.push(...songs);\n\n  const playlistObj = {\n    curSongIndex: 0,\n\n    name: playlistName,\n    songs: songs,\n    createAt: Date.now(),\n  };\n\n  state.myPlaylist.push(playlistObj);\n}\n\nconst modelUpdateState = () => {\n  state = localGetState();\n};\n\nexport const modelSearchSongs = (word) => {\n  let songs = [];\n  for (const song of state.songs)\n    if (song.name.toLocaleLowerCase().includes(word.toLowerCase()))\n      songs.push(song);\n  return songs;\n};\n\nexport {\n  state,\n  modelUpdateState,\n  deleteSong,\n  deleteSongs,\n  updateSong,\n  addToplayList,\n  deleteSongFromPlayList,\n  getSongsSortBy,\n  findSongsByIndex,\n  findSongByName,\n  createOnlyPlaylistWithName,\n  createPlayListWithSongs,\n};\n","import { state } from \"./model.js\";\n\nexport const getPlaylist = (name) => {\n  let playlist = state.myPlaylist.find((mov) => mov.name === name);\n  return playlist;\n};\n\nexport const removePlaylist = (name) => {\n  state.myPlaylist = state.myPlaylist.filter((mov) => mov.name !== name);\n};\n\nexport const removePlaylistSongs = (name, songsIndexArr) => {\n  const playlist = getPlaylist(name);\n  for (const givenIndex of songsIndexArr) {\n    playlist.songs = playlist.songs.filter(\n      (song) => Number(song.index) !== Number(givenIndex)\n    );\n  }\n};\n\nexport const getOnePlaylistSongsName = (name) => {\n  let playlist = state.myPlaylist.find((mov) => mov.name === name);\n  playlist = playlist[0];\n  const playlistSongs = playlist.songs;\n  if (!playlistSongs || playlistSongs.length === 0) return;\n  return playlistSongs.map((mov) => mov.name);\n};\n\nexport const getPlaylistSong = (name, index) => {\n  let playlist = state.myPlaylist.find((mov) => mov.name === name);\n  return playlist.songs.find((mov) => Number(mov.index) === Number(index));\n};\n\nexport const autoPlayPlaylist = (name) => {\n  let playlist = state.myPlaylist.find((mov) => mov.name === name);\n\n  if (!playlist || playlist.songs.length === 0) return;\n\n  const curSongIndex = Number(playlist.curSongIndex);\n  const curSong = playlist.songs[curSongIndex];\n\n  playlist.curSongIndex = curSongIndex + 1;\n  return curSong;\n};\n\nexport const getPlaylistSongs = (name) => {\n  const playlist = state.myPlaylist.find((mov) => mov.name === name);\n\n  return playlist.songs;\n};\n\nexport const addPlayListSongsToNextPlaylist = (name) => {\n  const songs = getPlaylistSongs(name);\n  if (songs.length === 0) return;\n  state.songsToPlayNext.push(songs);\n};\n\nexport const playlistHasSong = (name) => {\n  const songs = getPlaylistSongs(name);\n  if (songs === [] || !songs || songs.length === 0) return false;\n  return true;\n};\n\nexport const modelRenamePlaylist = (oldName, newName) => {\n  const playlist = getPlaylist(oldName);\n  console.log(oldName, newName);\n  playlist.name = newName;\n};\n\nexport const modelGetAllPlaylistName = () =>\n  state.myPlaylist.map((mov) => mov.name);\n\nexport const modelGetCurrentPlaylistSong = (index) => {\n  const name = state.currentMyPlaylistPlaying.name;\n  return getPlaylistSong(name, index);\n};\n","import PlaylistView from \"../../View/playlistSongs.js\";\nimport { loadSong, playSong, updateState } from \"./ControlController.js\";\nimport { state, addToplayList } from \"../../Model/model.js\";\nimport PlaylistSongView from \"../../View/playlistSongs.js\";\nimport { removePlaylistSongs, getPlaylist } from \"../../Model/playlistModel.js\";\n\nexport const controlRenderPlaylistHeader = (name) => {\n  const playlist = getPlaylist(name);\n  PlaylistSongView._renderHeader(playlist, true);\n};\n\nexport const controlRenderPlaylist = (playlist) =>\n  PlaylistView.render(playlist);\n\nexport const controlPlaySongFromCurrentPlaylist = (playlistName, songIndex) => {\n  const playlist = getPlaylist(playlistName);\n  updateState({ playMode: \"my-song\" ,currentMyPlaylistPlaying:playlist});\n  loadSong(songIndex, {}, );\n  playSong();\n};\n\nconst controlPlaylistItemBtns = (action, playlistName, songIndex) => {\n  if (action === \"play\") {\n    controlPlaySongFromCurrentPlaylist(playlistName, songIndex);\n  }\n};\n\nconst controlPlaylistCrudBtns = (action, playlistName, songIndexArr) => {\n  console.log(action, playlistName, songIndexArr);\n  if (action === \"remove\") removePlaylistSongs(playlistName, songIndexArr);\n\n  if (action === \"play\") {\n    updateState({ playMode: \"next\", playUntilNextPlaylistExhaust: true });\n    addToplayList(\"songsToPlayNext\", null, songIndexArr);\n    loadSong(0);\n    playSong();\n  }\n  // setState(state);\n  console.log(state);\n};\n\nconst controlHeaderBtns = (action, playlistName, songIndex) => {\n  if (action === \"play\") controlPlaySongFromCurrentPlaylist(playlistName, songIndex);\n};\n\nPlaylistView.addHandlerPlaylistItemsBtns(controlPlaylistItemBtns);\nPlaylistView.addHandlerCrudOperationBtns(controlPlaylistCrudBtns);\nPlaylistView.addHandlerHeaderBtns(controlHeaderBtns);\n","\"use strict\";\n\nimport ControlView from \"../../View/ControlView.js\";\nimport { state, getSongsSortBy } from \"../../Model/model.js\";\nimport { modelGetCurrentPlaylistSong } from \"../../Model/playlistModel.js\";\nimport { controlPlaySongFromCurrentPlaylist } from \"./playlistSongsController.js\";\n\nfunction getSong(index) {\n  let song = state.songs[index];\n\n  const playMode = state.playMode;\n  console.log(playMode);\n  // if (playMode === \"main\") song = song;\n  if (playMode === \"my-song\" && state.currentMyPlaylistPlaying) {\n    song = controlGetMyPlaylistSong(index);\n\n    if (song === null || !song) return;\n  }\n  if (playMode === \"next\") song = getNextPlayListSong();\n  if (playMode === \"shuffle\") song = state.shuffleSongs[index];\n\n  return song;\n}\n\nfunction loadSong(index, options = {}) {\n  // mode=>>>> main,next,my-song,shuffle\n\n  const song = getSong(index);\n  if (!song) return pauseSong();\n\n  if (state.playMode !== \"shuffle\") options.toggle = \"shuffle\";\n  // if (state.playMode === \"shuffle\") options.setShuffle = \"on\";\n\n  ControlView.loadSong(song, options);\n}\n\nfunction resetSong() {\n  loadSong(state.index, { currentTime: 0 });\n  playSong();\n}\n\nfunction shuffleSong(mode = false) {\n  if (mode) state.playMode = \"shuffle\";\n  else state.playMode = \"main\";\n\n  if (mode) {\n    state.shuffleSongs = state.songs\n      .slice()\n      .map((value) => ({ value, sort: Math.random() }))\n      .sort((a, b) => a.sort - b.sort)\n      .map(({ value }) => value);\n  } else {\n    state.shuffleSongs = [];\n  }\n}\n\nfunction playSong(playlistName) {\n  state.isPlaying = true;\n\n  if (playlistName) return controlPlaySongFromCurrentPlaylist(playlistName, 0);\n\n  // checking if we are in playlist section\n  if (state.playUntilNextPlaylistExhaust === \"true\" && playMode === \"next\")\n    return ControlView.playSong();\n\n  ControlView.playSong();\n}\n\nfunction getNextPlayListSong() {\n  if (!state.songsToPlayNext) {\n    return false;\n  }\n\n  state.songsToPlayNext = state.songsToPlayNext.filter(\n    (mov) => mov.played === false\n  );\n\n  const leftSongs = state.songsToPlayNext;\n\n  if (!leftSongs || leftSongs.length === 0) {\n    state.playMode = \"main\";\n    return state.songs[state.index];\n  }\n  if (leftSongs.length > 0) {\n    const song = leftSongs[0];\n    song.played = true;\n\n    return song;\n  }\n}\n\nfunction controlGetMyPlaylistSong(index) {\n  // songs => [1playlist,2ndplaylist,...]\n\n  const song = modelGetCurrentPlaylistSong(index);\n  if (!song) return;\n  return song;\n}\n\nfunction pauseSong() {\n  state.isPlaying = false;\n  ControlView.pauseSong();\n}\n\nfunction nextSong() {\n  state.isPlaying = true;\n  let index = +state.index;\n  index = index + 1;\n\n  if (index > state.songs.length - 1) index = 0;\n  state.index = index;\n\n  loadSong(index);\n  playSong();\n}\nfunction prevSong() {\n  state.isPlaying = true;\n  let index = +state.index;\n  index = index - 1;\n\n  if (index < 0) index = state.songs.length - 1;\n  state.index = index;\n  loadSong(index);\n  playSong();\n}\n\nfunction updateState(obj) {\n  if (!obj || obj === null || obj === undefined) return;\n  const objKeyValuePair = Object.entries(obj);\n\n  // console.log(state)\n  for (const [key, value] of objKeyValuePair) {\n    state[key] = value;\n  }\n}\n\nfunction controlPlayer(action, updateObj, option, playlistName) {\n  updateState(updateObj);\n\n  if (action === \"play\") {\n    playSong(playlistName);\n  }\n\n  if (action === \"pause\") {\n    pauseSong();\n  }\n\n  if (action === \"next\") nextSong();\n  if (action === \"prev\") prevSong();\n\n  if (action === \"reset\") resetSong();\n  if (action === \"shuffle\") shuffleSong(option);\n  // mean song has ended play next song\n  if (action === \"ended\") {\n    // Play song from songToPlay playlist\n\n    nextSong();\n\n    // song to play directly from main stream\n  }\n}\n\nfunction controlDisableSongChangeBtns(type) {\n  ControlView.disableSongChangeBtns(type);\n}\nfunction controlEnableSongChangeBtns(type) {\n  ControlView.enableSongChangeBtns(type);\n}\n\n// handle all control like pause next prev volume up playback rate fast\nControlView.addHandlerControl(controlPlayer);\nControlView.autoPlayNextSong(controlPlayer);\n\nexport {\n  loadSong,\n  playSong,\n  prevSong,\n  nextSong,\n  updateState,\n  controlPlayer,\n  controlEnableSongChangeBtns,\n  controlDisableSongChangeBtns,\n};\n\n//  main,next,my-song,shuffle\n","import Overview from \"../View/OverviewView.js\";\nimport { loadSong } from \"./Components/ControlController.js\";\nimport { state, } from \"./../Model/model.js\";\n// Set song\nOverview.render(state.songs);\nloadSong(0);\n// modelUpdateState();\n// playlistSongs.render(state.myPlaylist[0])\n// updateState();\n","import { contains, closest, findActiveElInArr } from \"../utils/_domFunction.js\";\n\nclass SidebarView {\n  _sideNav = document.querySelector(\".sidebar__list\");\n  _navElArr = [...document.querySelectorAll(\".sidebar__item\")];\n  _playListEl = this._sideNav.querySelector(\".sidebar__item-options\");\n  _playlistItemEl = document.querySelector(\".sidebar__item--playlist\");\n\n  renderSidebarItemOptions(arr) {\n    this._playListEl.innerHTML = \"\";\n\n    const html = arr\n      .map(\n        (name) => ` <li\n                    class=\"nav__item sidebar__item-option\"\n                    data-action=\"select\"   data-playlist-name=${name}\n                  >\n                  \n                    <div class=\"nav__title\">${name}</div>\n                  </li>`\n      )\n      .join(\"\");\n\n    this._playListEl.insertAdjacentHTML(\"afterbegin\", html);\n  }\n\n  hideSidebarPlaylistItems() {\n    this._playlistItemEl.dataset.state = \"open\";\n  }\n\n  addHandleSideNav(handle) {\n    this._sideNav.addEventListener(\"click\", function (e) {\n      let target = e.target;\n\n      target = target.closest(\".nav__item\");\n      if (!target) return;\n\n      // here we overwrite some css to show the list even if the list item are clicked when parent is not\n\n      // clicked on item options\n      if (contains(target, \"sidebar__item-option\")) {\n        const sideBarItemOption = target.closest(\".sidebar__item-option\");\n\n        const { playlistName } = sideBarItemOption.dataset;\n\n        handle(\"selected-playlist\", playlistName);\n\n        target = target.closest(\".sidebar__item\");\n\n        sideBarItemOption.classList.add(\"nav__item--active\");\n        target.classList.add(\"nav__item--showList\");\n\n        return;\n      }\n\n      // Cliked on item\n      if (contains(target, \"sidebar__item\")) {\n        const { section } = target.dataset;\n        if (!section || section === undefined) return;\n\n        // CSSS STUFFF ************************************\n        let { state } = target.dataset;\n        state = state === \"open\" ? \"close\" : \"open\";\n        if (state === \"close\") {\n          target.classList.remove(\"nav__item--active\");\n          target.classList.remove(\"nav__item--showList\");\n        }\n        target.dataset.state = state;\n\n        // CONTRROLLER STUFF\n        target = closest(target, \"nav__item\");\n        handle(section);\n      }\n    });\n  }\n}\n\nexport default new SidebarView();\n","import { addClass, closest, removeClass } from \"../utils/_domFunction.js\";\nimport CardView from \"./CardView.js\";\nimport ParentView from \"./ParentView.js\";\n\nclass LibraryView extends ParentView {\n  _sectionEl = document.querySelector(\".section-library\");\n  _parentEl = this._sectionEl.querySelector(\".library__content\");\n  _sortList = this._sectionEl.querySelector(\".operation__control\");\n  _operationValueEl = this._sectionEl.querySelector(\n    \".operation__control-value\"\n  );\n\n  _controlShuffleBtn = document.querySelector(\n    '.control__btn[data-action=\"shuffle\"]'\n  );\n\n  _generateItemMarkUp(mov, i) {\n    return ` <div class=\"library__box\" >\n                <p class=\"library__box-index\">${mov.name\n                  .slice(0, 1)\n                  .toUpperCase()}</p>\n                <li class=\"card\" data-index=${+mov.index - 1}>\n                    <img\n                        id=\"currentPhoto\"\n                        src=\"img/${mov.img}\"\n                        class=\"card__img\"\n                        onerror=\"this.onerror=null; this.src='img/default.jpg'\"\n                        alt=\"\"\n                    />\n                    <p class=\"card__name\">${mov.name}</p>\n                    <p class=\"card__artist\">${mov.author}</p>\n                    \n                </li>\n            </div>`;\n  }\n\n  sortByProperty(target, handle) {\n    // Sort Songs\n    if (closest(target, \"operation__control\")) {\n      // open sort List\n      const sortList = closest(target, \"operation__control\");\n      addClass(sortList, \"operation__control--active\");\n\n      // Select sort item\n      const sortOption = closest(target, \"nav__item\");\n      if (!sortOption) return;\n\n      const { sort } = sortOption.dataset;\n\n      // update Sort By label value\n      this._operationValueEl.textContent = sortOption.textContent;\n\n      // Hiding the sort List\n      removeClass(sortList, \"operation__control--active\");\n\n      handle(\"sort\", sort);\n    }\n  }\n\n  addhandleLibrary(handle) {\n    this._sectionEl.addEventListener(\"click\", (e) => {\n      let target = e.target;\n\n      // Shuffle song by clicking control\n      if (closest(target, 'btn[action=\"shuffle\"]')) {\n        target = closest(target, 'btn[action=\"shuffle\"]');\n        handle(\"shuffle\");\n\n        this._controlShuffleBtn.classList.toggle(\"control__btn--active\");\n      }\n\n      this.sortByProperty(target, handle);\n    });\n  }\n}\n\nexport default new LibraryView();\n","import { addClass, closest, removeClass } from \"../utils/_domFunction.js\";\nimport ParentView from \"./ParentView.js\";\n\nclass SettingView extends ParentView {\n  _sectionEl = document.querySelector(\".section-setting\");\n  _parentEl = document.querySelector(\".setting__content\");\n\n  // addHandlerSettings() ************************\n\n  render(){\n    this._toggleSectionHiddenClass()\n  }\n\n\n  _setSettingElTextValue(optionEl, optionElValue) {\n    const settingElTextValue = optionEl\n      .closest(\".setting__item\")\n      .querySelector(\".setting__value\");\n\n    settingElTextValue.textContent = optionElValue;\n    settingElTextValue.dataset.value = optionElValue;\n  }\n\n  _getAllOptionsEl(optionEl) {\n    return [\n      ...optionEl\n        .closest(\".setting__dropdown\")\n        .querySelectorAll(\".setting__dropdown-item\"),\n    ];\n  }\n\n  _setOptionElAsActiveOnly(optionEl) {\n    const allOptionsEl = this._getAllOptionsEl(optionEl);\n    for (const el of allOptionsEl) el.dataset.active = \"false\";\n    optionEl.dataset.active = \"true\";\n  }\n\n  _handleChangeTheme(action, optionEl, handle) {\n    if (action !== \"change-theme\") return;\n    let { theme } = optionEl.dataset;\n\n    this._setOptionElAsActiveOnly(optionEl);\n    this._setSettingElTextValue(optionEl, theme);\n    handle(action, theme);\n  }\n\n  _toggleSettingElActiveState(target) {\n    const settingItem = closest(target, \"setting__item\");\n    if (!settingItem) return false;\n\n    // Common part in all items\n    const { active, action } = settingItem.dataset;\n\n    // simply toggle setting item activen state\n    settingItem.dataset.active = active === \"true\" ? \"false\" : \"true\";\n\n    // if click el is settingItem option then dont hide it\n    if (closest(target, \"setting__dropdown-item\"))\n      settingItem.dataset.active = \"true\";\n\n    return action;\n  }\n\n  addHandlerSettings(handle) {\n    this._parentEl.addEventListener(\"click\", (e) => {\n      const target = e.target;\n\n      // check if valid item and return item action\n      const action = this._toggleSettingElActiveState(target);\n      if (!action) return;\n\n      const settingItemOption = closest(target, \"setting__dropdown-item\");\n\n      if (!settingItemOption) return;\n\n      // TO handle different item\n      this._handleChangeTheme(action, settingItemOption, handle);\n    });\n  }\n}\n\nexport default new SettingView();\n","import ParentView from \"./ParentView.js\";\nimport LibraryView from \"./LibraryView.js\";\nimport { closest } from \"../utils/_domFunction.js\";\n\nclass playListMainView extends ParentView {\n  _sectionEl = document.querySelector(\".section-playlist\");\n  _parentEl = this._sectionEl.querySelector(\".card__list\");\n  _addPlaylistBtn = this._sectionEl.querySelector(\n    \".btn[data-action='create-playlist']\"\n  );\n  _addPlaylistPopup = document.querySelector(\".popup__add \");\n  _playlistListsEl = this._sectionEl.querySelector(\".card__list\");\n\n  constructor() {\n    super();\n    this._addPlaylist();\n  }\n\n  _generateItemMarkUp(mov) {\n    if (mov.name && mov.songs.length === 0)\n      return this._onlyPlaylistMarkUp(mov);\n\n    return this._playlistWithSongsMarkUp(mov);\n  }\n\n  _onlyPlaylistMarkUp(mov) {\n    // to have identifier in data attribute like belongto => main,library,playlist\n    return `<li class=\"card\"  data-belong-to=\"playlist\" data-name=${mov.name} data-item=0>\n                    <div class=\"card__controls hidden\">\n                        <div class=\"card__control\" data-action=\"setting\" >\n                          <i class=\"card__control-icon fa fa-ellipsis-h\"></i>\n\n                          <ul class=\"nav__list card__settings\">\n                           \n                            <li class=\"nav__item\" data-action=\"remove\" data-belong-to=\"playlist\">Remove</li>\n                          </ul>\n                        </div>\n               \n                  </div>\n\n                <div class=\"card__collage card__single\">\n                      <img\n                        id=\"currentPhoto\"\n                        src=\"img/default.jpg\"\n                        class=\"card__img card__single \"\n                        onerror=\"this.onerror=null; this.src='img/default.jpg'\"\n                        alt=\"\"\n                        />\n                </div>\n                <p class=\"card__name\">${mov.name}</p>\n                <p class=\"card__artist\">${mov.songs.length} item</p>\n            </li>`;\n  }\n\n  _playlistWithSongsMarkUp(mov) {\n    return `<li class=\"card\" data-belong-to=\"playlist\" data-index=${\n      mov.songs[0].index\n    } data-name=${mov.name} data-item=1>\n                <div class=\"card__controls hidden\">\n                <div class=\"card__control\" data-action=\"setting\" >\n                  <i class=\"card__control-icon fa fa-ellipsis-h\"></i>\n\n                  <ul class=\"nav__list card__settings\">\n             \n                    <li class=\"nav__item\" data-action=\"remove\" data-belong-to=\"playlist\">Remove</li>\n                  </ul>\n                </div>\n          \n\n            </div>\n\n                <div class=\"card__collage\">\n                    ${mov.songs\n                      ?.map((song, i) => {\n                        if (i === 4) return \"\";\n                        return `<img\n                                  id=\"currentPhoto\"\n                                  src=\"img/${song.img}\"\n                                  class=\"card__img card__collage-img\"\n                                  onerror=\"this.onerror=null; this.src='img/default.jpg'\"\n                                  alt=\"\"\n                                  />`;\n                      })\n                      .join(\"\")}\n                </div>\n                  <p class=\"card__name\">${mov.name}</p>\n                  <p class=\"card__artist\">${mov.songs.length} item</p>\n              </li>`;\n  }\n\n  // ////////////////////////////////////////////////////\n  // FUNCTIONALITY\n\n  _addPlaylist() {\n    this._addPlaylistBtn.addEventListener(\"click\", () => {\n      this._addPlaylistPopup.classList.remove(\"hidden\");\n    });\n  }\n\n  _showPlaylistSongs(target, handle) {\n    const playlist = closest(target, \"card\");\n    const { name } = playlist.dataset;\n    handle(name);\n  }\n\n  _addHandlerShowPlaylistSongs(handle) {\n    this._playlistListsEl.addEventListener(\"click\", (e) => {\n      // const target  = e.target;\n      // // card is clicked\n      // this._showPlaylistSongs(target,handle);\n      // card is remove\n    });\n  }\n}\n\nexport default new playListMainView();\n","import PlayListMainView from \"../../View/playListMainView.js\";\nimport { state } from \"../../Model/model.js\";\nimport { getPlaylist } from \"../../Model/playlistModel.js\";\nimport { controlRenderPlaylist } from \"./playlistSongsController.js\";\n\n// import playListMainView from \"../../View/playListMainView.js\";\n// import SideBarView from \"../../View/SideBarView.js\";\n\nexport const controlRenderPlaylistMainView = (display = false) => {\n  PlayListMainView.render(state.myPlaylist, true, display);\n};\n\nexport const controlShowPlaylist = (playlistName) => {\n  console.log(playlistName);\n  const playlist = getPlaylist(playlistName);\n  console.log(playlist);\n  controlRenderPlaylist(playlist);\n};\n\nPlayListMainView._addHandlerShowPlaylistSongs(controlShowPlaylist);\n","import CrudView from \"./CrudView.js\";\nclass popupAddPlayList {\n  _parentEl = document.querySelector(\".popup__add\");\n  _;\n  _songsArr;\n\n  showPopupAndAddSongs(selectedSongs=[]) {\n    this._songsArr = selectedSongs;\n    this._parentEl.classList.remove(\"hidden\");\n  }\n\n  addhandlerCreatePlaylist(handle) {\n    this._parentEl.addEventListener(\"click\", (e) => {\n      const target = e.target.closest(\".popup__add-btn\");\n      if (!target) return;\n\n      const { action } = target.dataset;\n\n      //   if btn is cancel\n      if (action === \"cancel\") return this._parentEl.classList.add(\"hidden\");\n\n      //   if btn is create\n      const playListNameEl = this._parentEl.querySelector(\".popup__add-input\");\n\n      const value = playListNameEl.value.trim();\n\n      if (!value && value === \"\") return;\n      \n      // all goes successful\n      handle(value, this._songsArr);\n      this._songsArr = [];\n      playListNameEl.value = \"\";\n      this._parentEl.classList.add(\"hidden\");\n      CrudView.hide()\n    });\n  }\n}\n\nexport default new popupAddPlayList();\n","import PopupAddPlayList from \"../../View/popupAdd.js\";\n// import SidebarView from \"../../View/SearchView.js\";\nimport { controlRenderSidebarPlayList } from \"./sidebarController.js\";\nimport {\n  state,\n  createOnlyPlaylistWithName,\n  createPlayListWithSongs,\n} from \"../../Model/model.js\";\n\nimport { controlRenderCrudAddToBtnCreatedPlaylists } from \"./crudController.js\";\nimport { controlRenderPlaylistMainView } from \"./playListMainController.js\";\n\nexport function controlCreatePlayList(playListName, songsIndexArr = false) {\n  if (!playListName) return;\n\n  // CrudView.renderAddPlayBtnList(playListName);\n\n  // console.log(songsIndexArr);\n\n  // if only playlist is created with no song\n  if (!songsIndexArr || songsIndexArr?.length === 0)\n    createOnlyPlaylistWithName(playListName);\n\n  // when songs are added to playlist\n\n  if (songsIndexArr.length > 0)\n    createPlayListWithSongs(playListName, songsIndexArr);\n\n  // localSetState(state);\n\n  controlRenderCrudAddToBtnCreatedPlaylists();\n  controlRenderSidebarPlayList();\n  controlRenderPlaylistMainView(false);\n  // playListMainView.render(state.myPlaylist, true, false);\n}\n\nPopupAddPlayList.addhandlerCreatePlaylist(controlCreatePlayList);\n","import CrudView from \"../../View/CrudView.js\";\nimport { state, addToplayList, deleteSongs } from \"../../Model/model.js\";\nimport { loadSong, playSong, updateState } from \"./ControlController.js\";\nimport popupAddPlayList from \"../../View/popupAdd.js\";\nimport { controlCreatePlayList } from \"./PopupPlayListController.js\";\nimport { modelGetAllPlaylistName } from \"../../Model/playlistModel.js\";\n\n// remove\n// addToPlayList\n// play-next\n\nexport const controlHideCrudContainer = () => {\n  CrudView.hide();\n};\n\nexport const controlRenderCrudAddToBtnCreatedPlaylists = () => {\n  console.log(\"hello\");\n  const playlistNames = modelGetAllPlaylistName();\n  console.log(playlistNames);\n\n  CrudView.renderAddPlayBtnList(playlistNames);\n};\n\nfunction controlCrud(action, value, playlistName) {\n  console.log(action, value);\n  if (action === \"remove\") deleteSongs(value);\n\n  if (action === \"add-to-playlist\") controlRenderCrudAddToBtnCreatedPlaylists();\n\n  if (action === \"create-playlist\") {\n    popupAddPlayList.showPopupAndAddSongs(value);\n  }\n\n  if (action === \"select-playlist\") {\n    controlCreatePlayList(playlistName, value);\n  }\n\n  if (action === \"play-next\") {\n    addToplayList(\"my-next-list\", null, value);\n    updateState({ playMode: \"next\" });\n    loadSong(state.index);\n    playSong();\n  }\n}\n\nCrudView.handleCrud(controlCrud);\n","import SideBarView from \"../../View/SideBarView.js\";\n\nimport Overview from \"../../View/OverviewView.js\";\nimport LibraryView from \"../../View/LibraryView.js\";\nimport SettingView from \"../../View/SettingView.js\";\nimport { state } from \"../../Model/model.js\";\nimport {\n  controlShowPlaylist,\n  controlRenderPlaylistMainView,\n} from \"./playListMainController.js\";\nimport { controlHideCrudContainer } from \"./crudController.js\";\nimport { controlEnableSongChangeBtns } from \"./ControlController.js\";\n\n// to handle action on click on card\n\nexport const controlHideSidebarPlayiistItems = () =>\n  SideBarView.hideSidebarPlaylistItems();\n\nfunction controlRenderSidebarPlayList() {\n  const playlistSongsName = state.myPlaylist.map((mov) => mov.name);\n  SideBarView.renderSidebarItemOptions(playlistSongsName);\n}\n\nfunction controlSectionSelection(section, playlistName) {\n  controlHideCrudContainer();\n  controlEnableSongChangeBtns(\"both\");\n\n  if (section !== \"playlist\") controlHideSidebarPlayiistItems();\n\n  if (section === \"overview\") {\n    Overview.render(state.songs);\n  }\n\n  if (section === \"library\") {\n    LibraryView.render(state.songs);\n  }\n\n  if (section === \"playlist\") {\n    controlRenderPlaylistMainView(true);\n    const playlistSongs = state.myPlaylist;\n    if (!playlistSongs || playlistSongs.length === 0) return;\n\n    const playlistSongsName = state.myPlaylist.map((mov) => mov.name);\n\n    SideBarView.renderSidebarItemOptions(playlistSongsName);\n  }\n\n  //\n  if (section === \"selected-playlist\") {\n    controlShowPlaylist(playlistName);\n  }\n\n  if (section === \"setting\") SettingView.render();\n\n  // here will be select playlist\n}\n\n// To intially render all overview html\n\nSideBarView.addHandleSideNav(controlSectionSelection);\n\nexport { controlRenderSidebarPlayList };\n","import LibraryView from \"../../View/LibraryView.js\";\nimport { controlPlayer, playSong } from \"./ControlController.js\";\nimport { getSongsSortBy, state } from \"../../Model/model.js\";\n\nfunction controlLibrary(action, sortBy) {\n  if (action === \"shuffle\") {\n    controlPlayer(\"shuffle\", null, true);\n    playSong();\n    \n\n    console.log(state)\n  }\n\n\n  if (action === \"sort\") {\n    const sortSongs = getSongsSortBy(sortBy);\n    LibraryView.render(sortSongs);\n  }\n}\n\nLibraryView.addhandleLibrary(controlLibrary);\n","import { contains } from \"../utils/_domFunction.js\";\n\nclass NavView {\n  navListArr = [...document.querySelectorAll(\".nav__list\")];\n\n  handleNav() {\n    for (const nav of this.navListArr) {\n      nav.addEventListener(\"click\", function (e) {\n        let target = e.target;\n        target = target.closest(\"li\");\n        if (!target) return;\n        const list = [...this.querySelectorAll(\"li\")];\n\n        //   set active item\n        // if (contains(target, \"nav__item--active\")) return;\n        // setActiveElInArr(list, target, \"nav__item--active\");\n\n        list.forEach((mov) => {\n          mov.classList.remove(\"nav__item--active\");\n\n          target.classList.add(\"nav__item--active\");\n        });\n      });\n    }\n  }\n}\n\nexport default NavView;\n","import NavParentView from \"../../View/NavParentView.js\";\n\nnew NavParentView().handleNav();\n","import {\n  state,\n  addToplayList,\n  deleteSong,\n  deleteSongFromPlayList,\n} from \"../../Model/model.js\";\n\nimport {\n  addPlayListSongsToNextPlaylist,\n  getPlaylistSongs,\n  removePlaylist,\n  playlistHasSong,\n} from \"../../Model/playlistModel.js\";\n\nimport CardView from \"../../View/CardView.js\";\nimport { controlDisableSongChangeBtns } from \"./ControlController.js\";\nimport { controlRenderCrudAddToBtnCreatedPlaylists } from \"./crudController.js\";\nimport { controlShowPlaylist } from \"./playListMainController.js\";\nimport { controlRenderSidebarPlayList } from \"./sidebarController.js\";\nimport { playSong, loadSong, updateState } from \"./ControlController.js\";\n\nexport function controlCard(action, songIndex, playlistName, moreOption) {\n\n  if (action === \"play\") {\n    if (!playlistName) {\n      updateState({ index: songIndex, isPlaying: true, playMode: \"main\" });\n      loadSong(songIndex, { toggle: \"shuffle\", playBtn: \"play\" });\n    } else {\n      updateState({ playMode: \"my-song\" });\n\n      const existSongs = playlistHasSong(playlistName);\n      if (!existSongs) return;\n      loadSong(0, { toggle: \"shuffle\", playBtn: \"play\" }, playlistName);\n    }\n    playSong();\n  }\n\n  if (action === \"play-next\") {\n    state.playMode = \"next\";\n\n    if (!playlistName) addToplayList(\"next-list\", songIndex);\n    else addPlayListSongsToNextPlaylist(playlistName);\n\n    // moreOption === forcePlay\n    if (moreOption === true) {\n      loadSong(songIndex);\n      playSong();\n      controlDisableSongChangeBtns(\"both\");\n    }\n  }\n\n  if (action === \"remove\") {\n    if (!playlistName && !moreOption) {\n      deleteSong(songIndex);\n      deleteSongFromPlayList(\"my-list\", songIndex);\n      deleteSongFromPlayList(\"next-list\", songIndex);\n    }\n\n    if (playlistName && !moreOption) {\n      removePlaylist(playlistName);\n    }\n\n    // remove-playlist\n    if (moreOption) {\n      removePlaylist(playlistName);\n      controlRenderCrudAddToBtnCreatedPlaylists();\n      controlRenderSidebarPlayList();\n      console.log(\"playlist\", state.myPlaylist);\n    }\n  }\n\n  if(action===\"open-playlist\") controlShowPlaylist(playlistName)\n}\n\nexport const controlResetEventHandleOfSearchCardList = (handle) =>\n  CardView._resetAddHandlerControlsToSearchCardList(handle);\n\nCardView.addhandlerControls(controlCard);\n","import DropListView from \"../../View/dropListView.js\";\n\n","import ModalView from \"../../View/ModalView.js\";\nimport {\n  modelRenamePlaylist,\n  removePlaylist,\n} from \"../../Model/playlistModel.js\";\nimport {\n  controlRenderPlaylistHeader,\n  controlRenderPlaylist,\n} from \"./playlistSongsController.js\";\n\nimport { controlRenderSidebarPlayList } from \"./sidebarController.js\";\nimport { controlRenderCrudAddToBtnCreatedPlaylists } from \"./crudController.js\";\nimport { controlRenderPlaylistMainView } from \"./playListMainController.js\";\n\nconst controlRenamePlaylist = (oldName, newName) => {\n  modelRenamePlaylist(oldName, newName);\n  controlRenderPlaylistHeader(newName);\n};\n\nconst controlDeletePlaylist = (name) => {\n  removePlaylist(name);\n  controlRenderPlaylist(undefined);\n};\n\nconst controlModalBtns = (action, currentPlaylistName, newPlaylistName) => {\n  if (action === \"rename\")\n    controlRenamePlaylist(currentPlaylistName, newPlaylistName);\n\n  if (action === \"delete\") {\n    controlDeletePlaylist(currentPlaylistName);\n    controlRenderPlaylistMainView(true);\n    controlRenderCrudAddToBtnCreatedPlaylists();\n    controlRenderSidebarPlayList();\n  }\n};\nModalView.addHandleModalBtns(controlModalBtns);\n","import SettingView from \"../../View/SettingView.js\";\nimport { updateState } from \"./ControlController.js\";\nimport { state } from \"../../Model/model.js\";\n\nexport const controlChangeTheme = (theme) => {\n  updateState({ theme });\n  // ReRender whole app\n};\n\nconst controlSettings = (action, value) => {\n  console.log(action, value);\n  if (action === \"change-theme\") controlChangeTheme(value);\n};\n\nSettingView.addHandlerSettings(controlSettings);\n","import ParentView from \"./ParentView.js\";\nimport { closest } from \"../utils/_domFunction.js\";\n\nclass SearchView extends ParentView {\n  _sectionEl = document.querySelector(\".section-searchResults\");\n  _parentEl = document.querySelector(\".search .drop-list\");\n  _searchEl = document.querySelector(\".search\");\n  _searchInputEl = this._searchEl.querySelector(\".search__input\");\n  _searchResultContainer = this._sectionEl.querySelector(\".searchResults\");\n\n  _searchResultCardListEl = this._sectionEl.querySelector(\".section-searchResults .card__list\");\n  _searchResultsSongCardEl = [...this._sectionEl.querySelectorAll(\".card\")];\n\n  _generateItemMarkUp(mov) {\n    return `<li class=\"drop-item nav__item\" data-song=\"${mov.name}\">${mov.name} </li>`;\n  }\n\n  renderSearchResultSection(song) {\n    this._toggleSectionHiddenClass();\n\n    this._searchResultContainer.innerHTML = \"\";\n    const html = `<div class=\"searchResults\">\n                  <header class=\"header\">\n                    <h3 class=\"heading-3\">Search Results for \"${song.name}\"</h3>\n                    <p class=\"subheading mg-sm\">Albums</p>\n                  </header>\n                  <div class=\"section-content\">\n                    <ul class=\"card__list\">\n                      ${this._generateMarkUpSearchSong(song)}\n                    </ul>\n                  </div>\n                </div>`;\n\n    this._searchResultContainer.innerHTML = html;\n  }\n\n  _generateMarkUpSearchSong(song) {\n    return ` <li class=\"card\" data-index=${song.index} data-music=${song.music} data-belong-to=\"search\">\n                <div class=\"card__controls hidden\">\n                \n                  <div class=\"card__control\" data-action=\"play\">\n                    <i class=\"card__control-icon fa fa-play\"></i>\n                  </div>\n                \n                </div>\n                <img\n                  id=\"currentPhoto\"\n                  src=\"/img/${song.img}\"\n                  class=\"card__img card__img--overview\"\n                  onerror=\"this.onerror=null; this.src='img/default.jpg'\"\n                  alt=\"\"\n                />\n                <p class=\"card__name card__name--overview\">\n                  ${song.name}\n                </p>\n                <p class=\"card__artist card__artist--overview\">\n                  ${song.author}\n                </p>\n            </li>`;\n  }\n\n  _showSearches() {\n    this._searchEl.dataset.active = \"true\";\n  }\n\n  _hideSearches() {\n    this._searchEl.dataset.active = \"false\";\n  }\n\n  _clearInput() {\n    this._searchInputEl.value = \"\";\n  }\n\n  addHandlerSearchSongs(handle) {\n    this._searchInputEl.addEventListener(\"input\", (e) => {\n      const value = e.target.value.trim();\n      if (!value || value === \"\") return this._clearInput();\n\n      handle(value);\n      this._showSearches();\n    });\n  }\n\n  addHandlerSelectSearchSongs(handle) {\n    this._parentEl.addEventListener(\"click\", (e) => {\n      const target = closest(e.target, \"drop-item\");\n      if (!target) return;\n\n      const { song } = target.dataset;\n      handle(song);\n\n      this._hideSearches();\n      this._clearInput();\n    });\n  }\n\n  addHandlerSelectCard(handle) {\n   console.log(this._searchResultCardListEl)\n    this._searchResultCardListEl.addEventListener(\"click\", (e) => {\n      console.log(e)\n      const card = closest(e.target, \"card\");\n      if (!card) return;\n\n      const {index} = card.dataset;\n\n      handle(\"play\",index)\n\n    });\n  }\n}\n\nexport default new SearchView();\n","import SearchView from \"../../View/SearchView.js\";\nimport { modelSearchSongs, findSongByName } from \"../../Model/model.js\";\nimport { controlResetEventHandleOfSearchCardList } from \"./cardController.js\";\nimport { controlCard } from \"./cardController.js\";\n\nconst controlSearchSongs = (word) => {\n  return modelSearchSongs(word);\n};\n\nconst controlRenderSearchList = (word) => {\n  const songs = controlSearchSongs(word);\n  SearchView.render(songs);\n};\n\nconst controlRenderSearchSongs = (name) => {\n  console.log(name);\n  const songs = findSongByName(name);\n  console.log(songs);\n  SearchView.renderSearchResultSection(songs);\n  controlResetEventHandleOfSearchCardList(controlCard);\n};\n\nSearchView.addHandlerSearchSongs(controlRenderSearchList);\nSearchView.addHandlerSelectSearchSongs(controlRenderSearchSongs);\n// SearchView.addHandlerSelectCard(controlSelectCard);\n","\"use strict\";\n\nimport \"./script.js\";\nimport \"./Components/ControlController.js\";\nimport \"./Components/sidebarController.js\";\nimport \"./Components/libraryController.js\";\nimport \"./Components/crudController.js\";\nimport \"./Components/ParentNavController.js\";\nimport \"./Components/cardController.js\";\nimport \"./Components/dropListController.js\";\nimport \"./Components/PopupPlayListController.js\";\nimport \"./Components/playListMainController.js\";\nimport \"./Components/playlistSongsController.js\";\nimport \"./Components/modalController.js\";\nimport \"./Components/SettingsController.js\";\nimport \"./Components/SearchController.js\";\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}